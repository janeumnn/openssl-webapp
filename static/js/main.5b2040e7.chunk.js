(this["webpackJsonpopenssl-webapp"]=this["webpackJsonpopenssl-webapp"]||[]).push([[0],{100:function(e,t,r){},101:function(e,t,r){},102:function(e,t,r){},103:function(e,t,r){},104:function(e,t,r){},106:function(e,t,r){},107:function(e,t,r){},110:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),o=r.n(a),i=r(17),c=r.n(i),s=r(25),u=r.n(s),l=r(46),f=r(10),d=r(131),p=r(129),h=r(127),m=r(9),b=r(3),v=r(126),g=r(74),j=r(55),y=r(125),w=r(75),O=r(53),k=Object(a.createContext)(),E={isLoading:!1,command:"",files:[]},x=function(e,t){switch(t.type){case"SET_LOADING":return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.isLoading});case"SET_COMMAND":return Object(b.a)(Object(b.a)({},e),{},{command:t.command});case"ADD_FILES":return!!e.files.filter((function(e){return t.items.some((function(t){return t.file.name===e.file.name}))})).length?Object(b.a)(Object(b.a)({},e),{},{files:e.files.map((function(e){return t.items.find((function(t){return t.file.name===e.file.name}))||e}))}):Object(b.a)(Object(b.a)({},e),{},{files:[].concat(Object(O.a)(e.files),Object(O.a)(t.items))});case"DELETE_FILE":return Object(b.a)(Object(b.a)({},e),{},{files:e.files.filter((function(e){return e!==t.item}))});default:throw new Error("Unhandled action type: ".concat(t.type))}},_=function(e){var t=e.children,r=Object(a.useReducer)(x,E),o=Object(f.a)(r,2),i=o[0],c=o[1];return Object(n.jsx)(k.Provider,{value:{state:i,dispatch:c},children:t})},S=function(){return Object(a.useContext)(k)},F=function(e){for(var t=["rsa"],r=0,n=Object.keys(e);r<n.length;r++){switch(n[r]){case"pubin":e.pubin&&t.push("-pubin");break;case"in":t.push("-in ".concat(e.in));break;case"pubout":e.pubout&&t.push("-pubout");break;case"out":e.out&&t.push("-out");break;case"outFile":e.out&&t.push(e.outFile);break;case"text":e.text&&t.push("-text");break;case"noout":e.noout&&t.push("-noout")}}return t.join(" ")},D=r(116),C=function(e,t,r){var n=window.URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.style.display="none",a.click(),a.remove(),setTimeout((function(){return window.URL.revokeObjectURL(n)}),1e3)},P=(r(91),["1024","2048","4096"]);var A=function(e){var t=e.runCommand,r=Object(D.a)("translation").t,o=S(),i=o.state,c=o.dispatch,s=Object(a.useState)({fileOutput:!1}),u=Object(f.a)(s,2),l=u[0],d=u[1],p=Object(a.useState)({outFile:"my_rsa.pem",numbits:P[1]}),h=Object(f.a)(p,2),O=h[0],k=h[1],E=Object(a.useState)(null),x=Object(f.a)(E,2),_=x[0],A=x[1],M=Object(a.useState)(null),I=Object(f.a)(M,2),T=I[0],N=I[1],R=Object(a.useState)(null),L=Object(f.a)(R,2),B=L[0],V=L[1],U=Object(a.useState)(null),G=Object(f.a)(U,2),z=G[0],H=G[1],K=Object(a.useState)(!1),W=Object(f.a)(K,2),q=W[0],Y=W[1];Object(a.useEffect)((function(){var e,t;V(!!(null===(e=i.files)||void 0===e?void 0:e.find((function(e){return e.file.name===_})))),H(!!(null===(t=i.files)||void 0===t?void 0:t.find((function(e){return e.file.name===T}))))}),[i.files]);var Z=function(e){return function(t){var r="checkbox"===t.target.type?t.target.checked:t.target.value;switch(e){case"outFile":k((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r.replace(/\s/g,"")))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!1})}));break;default:k((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))}))}}},X=function(e){var r=F({pubin:e===T,in:e,pubout:!1,out:!1,outFile:"",text:!1,noout:!1});c({type:"SET_COMMAND",command:r}),t(r,"rsa")},J=function(e){var r=F({pubin:e===T,in:e,pubout:!1,out:!1,outFile:"",text:!0,noout:!0});c({type:"SET_COMMAND",command:r}),t(r,"rsa")},$=function(e){var t,r=null===(t=i.files)||void 0===t?void 0:t.find((function(t){return t.file.name===e}));C(r.file,r.file.name)};return Object(n.jsxs)(v.a,{onSubmit:function(e){e.preventDefault()},children:[Object(n.jsxs)(v.a.Row,{children:[Object(n.jsxs)(v.a.Group,{as:g.a,md:5,controlId:"genrsa-file-name",children:[Object(n.jsx)(v.a.Label,{className:"mb-2",children:r("tabGenrsa.outputFile")}),Object(n.jsx)(v.a.Control,{as:"input",placeholder:r("tabGenrsa.filenamePlaceholder"),value:O.outFile,onChange:Z("outFile"),isInvalid:l.fileOutput,disabled:q}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noTextInput")})]}),Object(n.jsxs)(v.a.Group,{as:g.a,md:5,controlId:"genrsa-numbits",children:[Object(n.jsx)(v.a.Label,{className:"mb-2",children:r("tabGenrsa.keyLength")}),Object(n.jsx)(v.a.Control,{as:"select",value:O.numbits,onChange:Z("numbits"),disabled:q,custom:!0,children:P.map((function(e){return Object(n.jsx)("option",{value:e,children:"".concat(e,"-bit")},e)}))})]})]}),Object(n.jsxs)(v.a.Row,{children:[Object(n.jsx)(v.a.Group,{className:"mb-md-0",as:g.a,xs:"auto",children:Object(n.jsx)(j.a,{type:"button",onClick:function(){if(function(){var e=!0;return O.outFile||(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!0})})),e=!1),e}()){V(!1),H(!1),N(null);var e=function(e){for(var t=["genrsa"],r=0,n=Object.keys(e);r<n.length;r++)switch(n[r]){case"outFile":t.push("-out ".concat(e.outFile));break;case"numbits":t.push(e.numbits)}return t.join(" ")}(O);A(O.outFile),c({type:"SET_COMMAND",command:e}),t(e,"genrsa")}},disabled:i.isLoading,children:r("general.execute")})}),B&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v.a.Group,{className:"mb-md-0",as:g.a,xs:"auto",children:Object(n.jsxs)(y.a,{as:w.a,onToggle:function(){return Y((function(e){return!e}))},children:[Object(n.jsx)(j.a,{onClick:function(){return X(_)},children:r("tabGenrsa.privateKey")}),Object(n.jsx)(y.a.Toggle,{split:!0}),Object(n.jsxs)(y.a.Menu,{children:[Object(n.jsx)(y.a.Header,{children:_}),Object(n.jsx)(y.a.Item,{onClick:function(){return $(_)},children:r("tabGenrsa.download")}),Object(n.jsx)(y.a.Item,{onClick:function(){return J(_)},children:r("tabGenrsa.information")})]})]})}),Object(n.jsx)(v.a.Group,{className:"mb-md-0",as:g.a,xs:"auto",children:Object(n.jsxs)(y.a,{as:w.a,onToggle:function(){return Y((function(e){return!e}))},children:[Object(n.jsx)(j.a,{onClick:function(){return X(T)},disabled:!T,children:r("tabGenrsa.publicKey")}),Object(n.jsx)(y.a.Toggle,{split:!0}),Object(n.jsx)(y.a.Menu,{children:z?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y.a.Header,{children:T}),Object(n.jsx)(y.a.Item,{onClick:function(){return $(T)},children:r("tabGenrsa.download")}),Object(n.jsx)(y.a.Item,{onClick:function(){return J(T)},children:r("tabGenrsa.information")})]}):Object(n.jsx)(y.a.Item,{onClick:function(){var e={pubin:!1,in:_,pubout:!0,out:!0,outFile:_.replace(/\.([^.]*)$/,"").concat(".pub")},r=F(e);N(e.outFile),c({type:"SET_COMMAND",command:r}),t(r,"rsa")},children:r("tabGenrsa.generate")})})]})})]})]})]})},M=r(117),I=r(118),T=r(76),N=r(130),R=(r(100),["aes-128-cbc","aes-192-cbc","aes-256-cbc","aria-128-cbc","aria-192-cbc","aria-256-cbc","bf","cast-cbc","cast5-cbc","camellia-128-cbc","camellia-192-cbc","camellia-256-cbc","des","des-ede","des-ede3","des3","desx","rc2","rc4","seed","sm4"]);var L=function(e){var t=e.runCommand,r=Object(D.a)("translation").t,o=S(),i=o.state,c=o.dispatch,s=Object(a.useState)({fileInput:!1,fileOutput:!1,passphrase:!1,initVector:!1,textInput:!1}),u=Object(f.a)(s,2),l=u[0],d=u[1],p=Object(a.useState)({e:!0,d:!1,cipher:R[0],in:!1,inFile:"",out:!1,outFile:"",k:!0,kVal:"my_passphrase",kfile:!1,kValFile:"",pbkdf2:!0,iv:!1,ivVal:"",a:!1,text:!0,textVal:"Lorem ipsum dolor sit amet"}),h=Object(f.a)(p,2),y=h[0],O=h[1];Object(a.useEffect)((function(){O((function(e){var t=i.files.find((function(t){return t.file.name===e.inFile})),r=i.files.find((function(t){return t.file.name===e.kValFile}));return Object(b.a)(Object(b.a)({},e),{},{inFile:t?e.inFile:"",kValFile:r?e.kValFile:""})}))}),[i.files]);var k=function(e){return function(t){var r="checkbox"===t.target.type||"radio"===t.target.type?t.target.checked:t.target.value;switch(e){case"e":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"d",!r),n))}));break;case"d":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"e",!r),n))}));break;case"in":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"text",!r),n))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!1,fileInput:!1,fileOutput:!1})}));break;case"inFile":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileInput:!1})}));break;case"out":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!1})}));break;case"outFile":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r.replace(/\s/g,"")))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!1})}));break;case"k":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"kfile",!r),Object(m.a)(n,"kValFile",""),n))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!1})}));break;case"kVal":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r.replace(/\s/g,"")))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!1})}));break;case"kfile":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"k",!r),n))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!1})}));break;case"kValFile":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!1})}));break;case"iv":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{initVector:!1})}));break;case"ivVal":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r.replace(/\s/g,"")))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{initVector:!1})}));break;case"text":O((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"in",!r),n))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!1,fileInput:!1,fileOutput:!1})}));break;case"textVal":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!1})}));break;case"pbkdf2":O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,!y.pbkdf2))}));break;default:O((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))}))}}};return Object(n.jsxs)(v.a,{onSubmit:function(e){e.preventDefault()},children:[Object(n.jsx)(v.a.Row,{children:Object(n.jsx)(g.a,{xs:12,sm:12,md:8,lg:6,xl:5,children:Object(n.jsxs)(M.a,{children:[Object(n.jsxs)(v.a.Label,{as:g.a,xs:12,sm:3,className:"mb-3",children:[r("tabEncryption.mode"),":"]}),Object(n.jsx)(v.a.Group,{as:g.a,xs:6,sm:4,md:4,lg:4,xl:4,children:Object(n.jsx)(v.a.Check,{id:"enc-encrypt",type:"radio",label:r("tabEncryption.encrypt"),className:"text-nowrap",checked:y.e,onChange:k("e"),inline:!0,custom:!0})}),Object(n.jsx)(v.a.Group,{as:g.a,xs:6,sm:3,children:Object(n.jsx)(v.a.Check,{id:"enc-decrypt",type:"radio",label:r("tabEncryption.decrypt"),className:"text-nowrap",checked:!y.e,onChange:k("d"),inline:!0,custom:!0})})]})})}),Object(n.jsx)("hr",{className:"mt-0 mb-3"}),Object(n.jsx)(v.a.Row,{children:Object(n.jsx)(g.a,{xs:12,sm:12,md:8,lg:6,xl:5,children:Object(n.jsxs)(M.a,{children:[Object(n.jsxs)(v.a.Label,{as:g.a,xs:12,sm:3,className:"mb-3",children:[r("tabEncryption.input"),":"]}),Object(n.jsx)(v.a.Group,{as:g.a,xs:6,sm:4,md:4,lg:4,xl:4,children:Object(n.jsx)(v.a.Check,{id:"enc-text",type:"radio",label:"Text",className:"text-nowrap",checked:y.text,onChange:k("text"),inline:!0,custom:!0})}),Object(n.jsx)(v.a.Group,{as:g.a,xs:6,sm:3,children:Object(n.jsx)(v.a.Check,{id:"enc-file-in",type:"radio",label:r("tabEncryption.file"),className:"text-nowrap",checked:!y.text,onChange:k("in"),inline:!0,custom:!0})})]})})}),Object(n.jsx)(v.a.Row,{children:Object(n.jsx)(v.a.Group,{as:g.a,md:10,children:y.text?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v.a.Control,{id:"enc-text-in",as:"textarea",placeholder:r("tabEncryption.enterTextPlaceholder"),value:y.textVal,rows:2,onChange:k("textVal"),isInvalid:l.textInput}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noTextInput")})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(v.a.Control,{as:"select",value:y.inFile?y.inFile:"1",onChange:k("inFile"),isInvalid:l.fileInput,disabled:y.text,custom:!0,children:[Object(n.jsx)("option",{value:"1",disabled:!0,hidden:!0,children:r("tabEncryption.selectPlaceholder")}),i.files.map((function(e){return Object(n.jsx)("option",{children:e.file.name},e.file.name)}))]}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noFileSelected")})]})})}),Object(n.jsxs)(v.a.Row,{children:[Object(n.jsxs)(v.a.Group,{as:g.a,md:5,controlId:"enc-cipher",children:[Object(n.jsx)(v.a.Label,{className:"mb-2",children:r("tabEncryption.cipher")}),Object(n.jsx)(v.a.Control,{as:"select",value:y.cipher,onChange:k("cipher"),custom:!0,children:R.map((function(e){return Object(n.jsx)("option",{children:e},e)}))})]}),Object(n.jsxs)(v.a.Group,{as:g.a,md:5,children:[Object(n.jsx)(v.a.Check,{id:"enc-file-out",type:"checkbox",className:"mb-2",label:r("tabEncryption.outputFile"),checked:y.out,onChange:k("out"),custom:!0}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(v.a.Control,{id:"enc-file-out-name",as:"input",placeholder:r("tabEncryption.filenamePlaceholder"),value:y.outFile,onChange:k("outFile"),isInvalid:l.fileOutput,disabled:!y.out}),Object(n.jsx)(I.a.Append,{children:Object(n.jsx)(w.a,{toggle:!0,children:Object(n.jsx)(T.a,{type:"checkbox",variant:"secondary",value:"1",checked:y.a,onChange:k("a"),disabled:!y.out,children:"Base64"})})}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noFileNameSpecified")})]})]})]}),Object(n.jsxs)(v.a.Row,{children:[Object(n.jsxs)(v.a.Group,{as:g.a,md:5,lg:5,controlId:"enc-passphrase",children:[Object(n.jsx)(v.a.Label,{className:"mb-2",children:y.k?"Passphrase":r("tabEncryption.passphraseOrigin")}),Object(n.jsxs)(I.a,{children:[y.k?Object(n.jsx)(v.a.Control,{as:"input",placeholder:r("tabEncryption.inputPlaceHolder"),value:y.kVal,onChange:k("kVal"),isInvalid:l.passphrase}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(v.a.Control,{as:"select",value:y.kValFile?y.kValFile:"1",onChange:k("kValFile"),isInvalid:l.passphrase,custom:!0,children:[Object(n.jsx)("option",{value:"1",disabled:!0,hidden:!0,children:r("tabEncryption.selectPlaceholder")}),i.files.map((function(e){return Object(n.jsx)("option",{children:e.file.name},e.file.name)}))]})}),Object(n.jsx)(I.a.Append,{children:Object(n.jsxs)(N.a,{type:"radio",name:"passphrase-options",defaultValue:"1",children:[Object(n.jsx)(T.a,{variant:"secondary",value:"1",onChange:k("k"),children:"Text"}),Object(n.jsx)(T.a,{variant:"secondary",value:"2",onChange:k("kfile"),children:r("tabEncryption.file")})]})}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noPassphraseSpecified")})]})]}),Object(n.jsxs)(v.a.Group,{as:g.a,md:5,lg:5,children:[Object(n.jsx)(v.a.Check,{id:"enc-initvector",type:"checkbox",className:"mb-2",label:r("tabEncryption.initializationVector"),checked:y.iv,onChange:k("iv"),custom:!0}),Object(n.jsx)(v.a.Control,{id:"enc-initvector-in",as:"input",placeholder:r("tabEncryption.hexValue"),value:y.ivVal,onChange:k("ivVal"),disabled:!y.iv,isInvalid:l.initVector}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noValueSpecified")})]})]}),Object(n.jsxs)(v.a.Row,{children:[Object(n.jsx)(v.a.Group,{as:g.a,xs:"auto",className:"mr-4 mb-0",children:Object(n.jsxs)(v.a.Label,{children:[r("tabEncryption.keyDerivationFunction"),":"]})}),Object(n.jsxs)(v.a.Group,{as:g.a,xs:"auto",children:[Object(n.jsx)(v.a.Check,{id:"enc-kdf-default",type:"radio",label:r("tabEncryption.default"),className:"text-nowrap mr-5",checked:!y.pbkdf2,onChange:k("pbkdf2"),inline:!0,custom:!0}),Object(n.jsx)(v.a.Check,{id:"enc-pbkdf",type:"radio",label:"PBKDF2",className:"text-nowrap mr-0",checked:y.pbkdf2,onChange:k("pbkdf2"),inline:!0,custom:!0})]})]}),Object(n.jsx)(j.a,{type:"button",onClick:function(){if(function(){var e=!0;return y.in&&!y.inFile&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileInput:!0})})),e=!1),y.out&&!y.outFile&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!0})})),e=!1),y.k&&!y.kVal&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!0})})),e=!1),y.kfile&&!y.kValFile&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{passphrase:!0})})),e=!1),y.iv&&!y.ivVal&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{initVector:!0})})),e=!1),y.text&&!y.textVal&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!0})})),e=!1),e}()){var e=y.d&&y.text&&!y.textVal.endsWith("\n")?y.textVal.concat("\n"):y.textVal,r=function(e){for(var t=["enc"],r=0,n=Object.keys(e);r<n.length;r++)switch(n[r]){case"e":e.e&&t.push("-e");break;case"d":e.d&&t.push("-d");break;case"cipher":t.push("-".concat(e.cipher));break;case"inFile":e.in&&t.push("-in ".concat(e.inFile));break;case"outFile":e.out&&t.push("-out ".concat(e.outFile));break;case"k":e.k&&t.push("-k");break;case"kVal":e.k&&t.push(e.kVal);break;case"kfile":e.kfile&&t.push("-kfile");break;case"kValFile":e.kfile&&t.push(e.kValFile);break;case"pbkdf2":e.pbkdf2&&t.push("-pbkdf2");break;case"iv":e.iv&&t.push("-iv");break;case"ivVal":e.iv&&t.push(e.ivVal);break;case"a":e.out&&!e.a||t.push("-a")}return t.join(" ")}(y);c({type:"SET_COMMAND",command:r}),t(r,"enc",e||"")}},disabled:i.isLoading,children:r("general.execute")})]})},B=(r(101),["blake2s256","blake2b512","md5","sha1","sha3-224","sha3-256","sha3-384","sha3-512","sha224","sha384","sha256","sha512","sha512-224","sha512-256","shake128","shake256","sm3"]);var V=function(e){var t=e.runCommand,r=Object(D.a)("translation").t,o=S(),i=o.state,c=o.dispatch,s=Object(a.useState)({fileInput:!1,textInput:!1,fileOutput:!1}),u=Object(f.a)(s,2),l=u[0],d=u[1],p=Object(a.useState)({algorithm:B[0],out:!1,outFile:"",text:!0,textVal:"",file:!1,fileVal:""}),h=Object(f.a)(p,2),y=h[0],w=h[1];Object(a.useEffect)((function(){w((function(e){var t=i.files.find((function(t){return t.file.name===e.fileVal}));return Object(b.a)(Object(b.a)({},e),{},{fileVal:t?e.fileVal:""})}))}),[i.files]);var O=function(e){return function(t){var r="checkbox"===t.target.type?t.target.checked:t.target.value;switch(e){case"file":w((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"text",!r),n))}));break;case"fileVal":w((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileInput:!1})}));break;case"text":w((function(t){var n;return Object(b.a)(Object(b.a)({},t),{},(n={},Object(m.a)(n,e,r),Object(m.a)(n,"file",!r),n))}));break;case"textVal":w((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!1})}));break;case"out":w((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!1})}));break;case"outFile":w((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r.replace(/\s/g,"")))})),d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!1})}));break;default:w((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(m.a)({},e,r))}))}}};return Object(n.jsxs)(v.a,{onSubmit:function(e){e.preventDefault()},children:[Object(n.jsx)(v.a.Row,{children:Object(n.jsx)(g.a,{xs:12,sm:12,md:8,lg:6,xl:5,children:Object(n.jsxs)(M.a,{children:[Object(n.jsxs)(v.a.Label,{as:g.a,xs:12,sm:3,className:"mb-3",children:[r("tabDigest.input"),":"]}),Object(n.jsx)(v.a.Group,{as:g.a,xs:"auto",children:Object(n.jsx)(v.a.Check,{id:"dgst-text",type:"radio",label:"Text",className:"text-nowrap",checked:y.text,onChange:O("text"),inline:!0,custom:!0})}),Object(n.jsx)(v.a.Group,{as:g.a,xs:"auto",children:Object(n.jsx)(v.a.Check,{id:"dgst-file-in",type:"radio",label:r("tabDigest.file"),className:"text-nowrap",checked:!y.text,onChange:O("file"),inline:!0,custom:!0})})]})})}),Object(n.jsx)(v.a.Row,{children:Object(n.jsx)(v.a.Group,{as:g.a,md:10,children:y.text?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v.a.Control,{id:"dgst-text-in",as:"textarea",placeholder:r("tabDigest.enterTextPlaceholder"),value:y.textVal,rows:2,onChange:O("textVal"),isInvalid:l.textInput}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noTextInput")})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(v.a.Control,{as:"select",value:y.fileVal?y.fileVal:"1",onChange:O("fileVal"),isInvalid:l.fileInput,custom:!0,children:[Object(n.jsx)("option",{value:"1",disabled:!0,hidden:!0,children:r("tabDigest.selectPlaceholder")}),i.files.map((function(e){return Object(n.jsx)("option",{children:e.file.name},e.file.name)}))]}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noFileSelected")})]})})}),Object(n.jsxs)(v.a.Row,{children:[Object(n.jsxs)(v.a.Group,{as:g.a,md:5,controlId:"dgst-algorithm",children:[Object(n.jsx)(v.a.Label,{className:"mb-2",children:r("tabDigest.hashFunction")}),Object(n.jsx)(v.a.Control,{as:"select",value:y.algorithm,onChange:O("algorithm"),custom:!0,children:B.map((function(e){return Object(n.jsx)("option",{children:e},e)}))})]}),Object(n.jsxs)(v.a.Group,{as:g.a,md:5,children:[Object(n.jsx)(v.a.Check,{id:"dgst-file-out",type:"checkbox",className:"mb-2",label:r("tabDigest.outputFile"),checked:y.out,onChange:O("out"),custom:!0}),Object(n.jsx)(v.a.Control,{id:"dgst-file-out-name",as:"input",placeholder:r("tabDigest.filenamePlaceholder"),value:y.outFile,onChange:O("outFile"),isInvalid:l.fileOutput,disabled:!y.out}),Object(n.jsx)(v.a.Control.Feedback,{type:"invalid",children:r("validation.noFileNameSpecified")})]})]}),Object(n.jsx)(j.a,{type:"button",onClick:function(){if(function(){var e=!0;return y.file&&!y.fileVal&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileInput:!0})})),e=!1),y.text&&!y.textVal&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{textInput:!0})})),e=!1),y.out&&!y.outFile&&(d((function(e){return Object(b.a)(Object(b.a)({},e),{},{fileOutput:!0})})),e=!1),e}()){var e=y.text?y.textVal:"",r=function(e){for(var t=["dgst"],r=0,n=Object.keys(e);r<n.length;r++)switch(n[r]){case"algorithm":t.push("-".concat(e.algorithm));break;case"out":e.out&&t.push("-out ".concat(e.outFile));break;case"file":e.file&&t.push(e.fileVal)}return t.join(" ")}(y);c({type:"SET_COMMAND",command:r}),t(r,"dgst",e)}},disabled:i.isLoading,children:r("general.execute")})]})},U=r(128),G=r(119),z=r(124),H=r(84),K=r(120),W=r(121);r(102);function q(e){var t=e.item,r=e.showConfirmation,o=Object(D.a)("translation").t,i=Object(a.useRef)(t.file);return Object(n.jsxs)(I.a,{className:"mt-2 mb-2",children:[Object(n.jsxs)(I.a.Prepend,{children:[Object(n.jsx)(U.a,{delay:{show:600,hide:0},trigger:"hover",placement:"top",overlay:Object(n.jsx)(G.a,{children:o("tabFiles.delete")}),children:Object(n.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return r(i.current)},children:Object(n.jsx)("i",{className:"fa fa-trash"})})}),Object(n.jsx)(U.a,{delay:{show:600,hide:0},trigger:"hover",placement:"top",overlay:Object(n.jsx)(G.a,{children:o("tabFiles.download")}),children:Object(n.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return C(i.current,i.current.name)},"data-text":"Test",children:Object(n.jsx)("i",{className:"fa fa-download"})})})]}),Object(n.jsx)(v.a.Control,{value:i.current.name,disabled:!0}),Object(n.jsx)(I.a.Append,{children:Object(n.jsx)(I.a.Text,{children:new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(t.file.lastModified)})})]})}function Y(e){var t=e.show,r=e.handleCancel,a=e.handleConfirmation,o=Object(D.a)("translation").t;return Object(n.jsxs)(z.a,{show:t,onHide:r,children:[Object(n.jsx)(z.a.Header,{closeButton:!0,children:Object(n.jsx)(z.a.Title,{children:o("deleteModal.headline")})}),Object(n.jsx)(z.a.Body,{children:o("deleteModal.text")}),Object(n.jsxs)(z.a.Footer,{children:[Object(n.jsx)(j.a,{variant:"secondary",onClick:r,children:o("deleteModal.cancel")}),Object(n.jsx)(j.a,{variant:"primary",onClick:a,children:o("deleteModal.yes")})]})]})}var Z=function(){var e=Object(D.a)("translation").t,t=S(),r=t.state,o=t.dispatch,i=Object(a.useState)(!1),c=Object(f.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(!1),d=Object(f.a)(l,2),p=d[0],h=d[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){r.files.length&&u(!0),r.files.length||u(!1)}),[r.files]);var b=function(e){h(!0),m.current=e};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{children:Object(n.jsxs)(g.a,{lg:10,children:[Object(n.jsx)("label",{children:e("tabFiles.files")}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(I.a.Prepend,{children:Object(n.jsx)(j.a,{variant:"secondary",onClick:function(){r.files.length&&u(!s)},children:Object(n.jsx)("i",{className:"fa fa-chevron-down",style:{transform:s?"rotate(180deg)":"rotate(0)",transition:"all 0.2s linear"}})})}),Object(n.jsxs)(H.a,{custom:!0,children:[Object(n.jsx)(H.a.Input,{onChange:function(e){var t=Object(O.a)(e.target.files).filter((function(e){return!r.files.some((function(t){return t.file.name===e.name}))})).map((function(e){return{file:e,output:!1}}));o({type:"ADD_FILES",items:t}),e.target.value=null},multiple:!0}),Object(n.jsxs)(H.a.Label,{"data-browse":"Browse...",children:[e("tabFiles.selectFilesPlaceholder")," ",Object(n.jsx)(K.a,{pill:!0,variant:"secondary",children:r.files.length||!1})]})]})]}),Object(n.jsx)(W.a,{in:s,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{}),r.files.map((function(e){return Object(n.jsx)(q,{item:e,showConfirmation:b},e.file.name)}))]})})]})}),Object(n.jsx)(Y,{show:p,handleCancel:function(){return h(!1)},handleConfirmation:function(){h(!1);var e=r.files.find((function(e){return e.file.name===m.current.name}));o({type:"DELETE_FILE",item:e})}})]})},X=r(77);r(103);var J=function(e){var t=e.runCommand,r=Object(D.a)("translation").t,o=S().state,i=Object(a.useState)(""),c=Object(f.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(!1),m=Object(f.a)(l,2),b=m[0],v=m[1],g=Object(a.useRef)(0),j=Object(X.useMediaQuery)({query:"(max-width: 767px)"});return Object(a.useEffect)((function(){var e=o.files[o.files.length-1];(null===e||void 0===e?void 0:e.output)&&o.files.length>=g.current&&"files"!==s&&v(!0),g.current=o.files.length}),[o.files]),Object(a.useEffect)((function(){"files"===s&&v(!1)}),[s]),Object(n.jsx)(p.a.Container,{defaultActiveKey:"encryption",onSelect:function(e){return u(e)},children:Object(n.jsxs)(d.a,{className:"mb-3",children:[Object(n.jsx)(d.a.Header,{children:Object(n.jsxs)(h.a,{className:"flex-column flex-md-row",variant:j?"pills":"tabs",children:[Object(n.jsx)(h.a.Item,{children:Object(n.jsx)(h.a.Link,{eventKey:"encryption",children:r("tabEncryption.name")})}),Object(n.jsx)(h.a.Item,{children:Object(n.jsx)(h.a.Link,{eventKey:"digest",children:"Hashes"})}),Object(n.jsx)(h.a.Item,{children:Object(n.jsx)(h.a.Link,{eventKey:"genrsa",children:r("tabGenrsa.name")})}),Object(n.jsx)(h.a.Item,{children:Object(n.jsxs)(h.a.Link,{eventKey:"files",children:[r("tabFiles.name"),b&&"*"]})})]})}),Object(n.jsx)(d.a.Body,{children:Object(n.jsxs)(p.a.Content,{children:[Object(n.jsx)(p.a.Pane,{eventKey:"encryption",children:Object(n.jsx)(L,{runCommand:t})}),Object(n.jsx)(p.a.Pane,{eventKey:"genrsa",children:Object(n.jsx)(A,{runCommand:t})}),Object(n.jsx)(p.a.Pane,{eventKey:"digest",children:Object(n.jsx)(V,{runCommand:t})}),Object(n.jsx)(p.a.Pane,{eventKey:"files",children:Object(n.jsx)(Z,{})})]})})]})})},$=r(132);r(104);var Q=function(e){var t=e.runCommand,r=e.result,o=Object(D.a)("translation").t,i=S(),c=i.state,s=i.dispatch,u=Object(a.useState)(""),l=Object(f.a)(u,2),d=l[0],p=l[1],h=Object(a.useRef)(),m=Object(a.useRef)({selectedIndex:-1,commands:[]});return Object(n.jsxs)("div",{className:"CommandLine",children:[Object(n.jsxs)("div",{className:"CommandLine-output",children:[c.command&&Object(n.jsx)("p",{className:"CommandLine-command",children:"OpenSSL> ".concat(c.command)}),c.isLoading?Object(n.jsx)("div",{className:"CommandLine-loader",children:Object(n.jsx)("div",{className:"spinner-border text-light",role:"status"})}):Object(n.jsxs)(n.Fragment,{children:[!c.command&&!m.current.commands.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"mb-3",children:Object(n.jsx)($.a,{i18nKey:"commandLine.infoText",components:{bold:Object(n.jsx)("strong",{})},values:{version:"1.1.1k"}})}),Object(n.jsx)("span",{className:"mb-3",children:o("commandLine.usage")}),Object(n.jsx)("span",{children:o("commandLine.moreInfo")}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:o("commandLine.availableCommands")}),Object(n.jsx)("li",{children:o("commandLine.versionInfo")})]})]}),r.stderr&&Object(n.jsx)("p",{children:"".concat(r.stderr,"\n")}),r.stdout&&Object(n.jsx)("p",{children:r.stdout})]})]}),Object(n.jsx)("form",{onSubmit:function(e){e.preventDefault(),h.current.value.replace(/\s/g,"")&&(!function(e){var t=m.current.commands.findIndex((function(t){return t===e}));-1===t||m.current.commands.splice(t,1),m.current.commands.unshift(e.trim()),m.current.length>10&&m.current.commands.pop()}(h.current.value),s({type:"SET_COMMAND",command:h.current.value}),t(h.current.value),p(""),m.current.selectedIndex=-1)},children:Object(n.jsxs)("div",{className:"CommandLine-input",children:[Object(n.jsx)("label",{children:"OpenSSL>"}),Object(n.jsx)("input",{ref:h,type:"text",spellCheck:"false",value:d,onChange:function(e){p(e.target.value),m.current.selectedIndex=-1},onKeyDown:function(e){var t=m.current.selectedIndex;switch(e.key){case"ArrowUp":return e.preventDefault(),void((t+=1)<10&&m.current.commands[t]&&(h.current.value=m.current.commands[t],m.current.selectedIndex=t));case"ArrowDown":return e.preventDefault(),(t-=1)>=0&&m.current.commands[t]&&(h.current.value=m.current.commands[t],m.current.selectedIndex=t),void(-1===t&&(h.current.value=d,m.current.selectedIndex=t));default:return}}})]})})]})},ee=r(79),te=r(80),re=r(81),ne=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){var r,n,a="undefined"!==typeof(t=t||{})?t:{};a.ready=new Promise((function(e,t){r=e,n=t}));var o,i={};for(o in a)a.hasOwnProperty(o)&&(i[o]=a[o]);var c,s,u=[],l="./this.program",f=function(e,t){throw t},d="";"undefined"!==typeof document&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=0!==d.indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};var p=a.print||console.log.bind(console),h=a.printErr||console.warn.bind(console);for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);i=null,a.arguments&&(u=a.arguments),a.thisProgram&&(l=a.thisProgram),a.quit&&(f=a.quit);var m;a.wasmBinary&&(m=a.wasmBinary);var b,v=a.noExitRuntime||!1;"object"!==typeof WebAssembly&&W("no native wasm support detected");var g=!1;function j(e,t){e||W("Assertion failed: "+t)}var y,w,O,k,E,x,_="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t,r){for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.subarray&&_)return _.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var c=63&e[t++];if(192!=(224&i)){var s=63&e[t++];if((i=224==(240&i)?(15&i)<<12|c<<6|s:(7&i)<<18|c<<12|s<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|c)}else o+=String.fromCharCode(i)}return o}function F(e,t){return e?S(O,e,t):""}function D(e,t,r,n){if(!(n>0))return 0;for(var a=r,o=r+n-1,i=0;i<e.length;++i){var c=e.charCodeAt(i);if(c>=55296&&c<=57343)c=65536+((1023&c)<<10)|1023&e.charCodeAt(++i);if(c<=127){if(r>=o)break;t[r++]=c}else if(c<=2047){if(r+1>=o)break;t[r++]=192|c>>6,t[r++]=128|63&c}else if(c<=65535){if(r+2>=o)break;t[r++]=224|c>>12,t[r++]=128|c>>6&63,t[r++]=128|63&c}else{if(r+3>=o)break;t[r++]=240|c>>18,t[r++]=128|c>>12&63,t[r++]=128|c>>6&63,t[r++]=128|63&c}}return t[r]=0,r-a}function C(e,t,r){return D(e,O,t,r)}function P(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function A(e){var t=P(e)+1,r=ot(t);return D(e,w,r,t),r}function M(e,t,r){for(var n=0;n<e.length;++n)w[t++>>0]=e.charCodeAt(n);r||(w[t>>0]=0)}function I(e){y=e,a.HEAP8=w=new Int8Array(e),a.HEAP16=k=new Int16Array(e),a.HEAP32=x=new Int32Array(e),a.HEAPU8=O=new Uint8Array(e),a.HEAPU16=E=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}a.INITIAL_MEMORY;var T,N=[],R=[],L=[],B=[],V=[];R.push({func:function(){Je()}});var U=0,G=null,z=null;function H(e){U++,a.monitorRunDependencies&&a.monitorRunDependencies(U)}function K(e){if(U--,a.monitorRunDependencies&&a.monitorRunDependencies(U),0==U&&(null!==G&&(clearInterval(G),G=null),z)){var t=z;z=null,t()}}function W(e){a.onAbort&&a.onAbort(e),h(e+=""),g=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}a.preloadedImages={},a.preloadedAudios={};function q(e){return t=e,r="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(r):0===t.indexOf(r);var t,r}var Y,Z,X,J="openssl.wasm";function $(e){try{if(e==J&&m)return new Uint8Array(m);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(h){W(h)}}function Q(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"===typeof r?void 0===t.arg?T.get(r)():T.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(a)}}function ee(e,t){var r=new Date(1e3*x[e>>2]);x[t>>2]=r.getUTCSeconds(),x[t+4>>2]=r.getUTCMinutes(),x[t+8>>2]=r.getUTCHours(),x[t+12>>2]=r.getUTCDate(),x[t+16>>2]=r.getUTCMonth(),x[t+20>>2]=r.getUTCFullYear()-1900,x[t+24>>2]=r.getUTCDay(),x[t+36>>2]=0,x[t+32>>2]=0;var n=Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0),a=(r.getTime()-n)/864e5|0;return x[t+28>>2]=a,ee.GMTString||(ee.GMTString=function(e){var t=P(e)+1,r=rt(t);return r&&D(e,w,r,t),r}("GMT")),x[t+40>>2]=ee.GMTString,t}q(J)||(Y=J,J=a.locateFile?a.locateFile(Y,d):d+Y);var te={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=te.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=te.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return te.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return te.normalize(e.join("/"))},join2:function(e,t){return te.normalize(e+"/"+t)}};var re={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:ie.cwd();if("string"!==typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=re.resolve(e).substr(1),t=re.resolve(t).substr(1);for(var n=r(e.split("/")),a=r(t.split("/")),o=Math.min(n.length,a.length),i=o,c=0;c<o;c++)if(n[c]!==a[c]){i=c;break}var s=[];for(c=i;c<n.length;c++)s.push("..");return(s=s.concat(a.slice(i))).join("/")}},ne={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ne.ttys[e]={input:[],output:[],ops:t},ie.registerDevice(e,ne.stream_ops)},stream_ops:{open:function(e){var t=ne.ttys[e.node.rdev];if(!t)throw new ie.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,a){if(!e.tty||!e.tty.ops.get_char)throw new ie.ErrnoError(60);for(var o=0,i=0;i<n;i++){var c;try{c=e.tty.ops.get_char(e.tty)}catch(s){throw new ie.ErrnoError(29)}if(void 0===c&&0===o)throw new ie.ErrnoError(6);if(null===c||void 0===c)break;o++,t[r+i]=c}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,a){if(!e.tty||!e.tty.ops.put_char)throw new ie.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(i){throw new ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Ye(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(p(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(p(S(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(h(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(h(S(e.output,0)),e.output=[])}}};function ae(e){for(var t=function(e,t){return t||(t=16),Math.ceil(e/t)*t}(e,16384),r=rt(t);e<t;)w[r+e++]=0;return r}var oe={ops_table:null,mount:function(e){return oe.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(ie.isBlkdev(r)||ie.isFIFO(r))throw new ie.ErrnoError(63);oe.ops_table||(oe.ops_table={dir:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,lookup:oe.node_ops.lookup,mknod:oe.node_ops.mknod,rename:oe.node_ops.rename,unlink:oe.node_ops.unlink,rmdir:oe.node_ops.rmdir,readdir:oe.node_ops.readdir,symlink:oe.node_ops.symlink},stream:{llseek:oe.stream_ops.llseek}},file:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:{llseek:oe.stream_ops.llseek,read:oe.stream_ops.read,write:oe.stream_ops.write,allocate:oe.stream_ops.allocate,mmap:oe.stream_ops.mmap,msync:oe.stream_ops.msync}},link:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr,readlink:oe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:oe.node_ops.getattr,setattr:oe.node_ops.setattr},stream:ie.chrdev_stream_ops}});var a=ie.createNode(e,t,r,n);return ie.isDir(a.mode)?(a.node_ops=oe.ops_table.dir.node,a.stream_ops=oe.ops_table.dir.stream,a.contents={}):ie.isFile(a.mode)?(a.node_ops=oe.ops_table.file.node,a.stream_ops=oe.ops_table.file.stream,a.usedBytes=0,a.contents=null):ie.isLink(a.mode)?(a.node_ops=oe.ops_table.link.node,a.stream_ops=oe.ops_table.link.stream):ie.isChrdev(a.mode)&&(a.node_ops=oe.ops_table.chrdev.node,a.stream_ops=oe.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[t]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=ie.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,ie.isDir(e.mode)?t.size=4096:ie.isFile(e.mode)?t.size=e.usedBytes:ie.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&oe.resizeFileStorage(e,t.size)},lookup:function(e,t){throw ie.genericErrors[44]},mknod:function(e,t,r,n){return oe.createNode(e,t,r,n)},rename:function(e,t,r){if(ie.isDir(e.mode)){var n;try{n=ie.lookupNode(t,r)}catch(o){}if(n)for(var a in n.contents)throw new ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=ie.lookupNode(e,t);for(var n in r.contents)throw new ie.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=oe.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!ie.isLink(e.mode))throw new ie.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-a,n);if(i>8&&o.subarray)t.set(o.subarray(a,a+i),r);else for(var c=0;c<i;c++)t[r+c]=o[a+c];return i},write:function(e,t,r,n,a,o){if(t.buffer===w.buffer&&(o=!1),!n)return 0;var i=e.node;if(i.timestamp=Date.now(),t.subarray&&(!i.contents||i.contents.subarray)){if(o)return i.contents=t.subarray(r,r+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===a)return i.contents=t.slice(r,r+n),i.usedBytes=n,n;if(a+n<=i.usedBytes)return i.contents.set(t.subarray(r,r+n),a),n}if(oe.expandFileStorage(i,a+n),i.contents.subarray&&t.subarray)i.contents.set(t.subarray(r,r+n),a);else for(var c=0;c<n;c++)i.contents[a+c]=t[r+c];return i.usedBytes=Math.max(i.usedBytes,a+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new ie.ErrnoError(28);return n},allocate:function(e,t,r){oe.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,a,o){if(0!==t)throw new ie.ErrnoError(28);if(!ie.isFile(e.node.mode))throw new ie.ErrnoError(43);var i,c,s=e.node.contents;if(2&o||s.buffer!==y){if((n>0||n+r<s.length)&&(s=s.subarray?s.subarray(n,n+r):Array.prototype.slice.call(s,n,n+r)),c=!0,!(i=ae(r)))throw new ie.ErrnoError(48);w.set(s,i)}else c=!1,i=s.byteOffset;return{ptr:i,allocated:c}},msync:function(e,t,r,n,a){if(!ie.isFile(e.node.mode))throw new ie.ErrnoError(43);if(2&a)return 0;oe.stream_ops.write(e,t,0,n,r,!1);return 0}}},ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=re.resolve(ie.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new ie.ErrnoError(32);for(var a=te.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=ie.root,i="/",c=0;c<a.length;c++){var s=c===a.length-1;if(s&&t.parent)break;if(o=ie.lookupNode(o,a[c]),i=te.join2(i,a[c]),ie.isMountpoint(o)&&(!s||s&&t.follow_mount)&&(o=o.mounted.root),!s||t.follow)for(var u=0;ie.isLink(o.mode);){var l=ie.readlink(i);if(i=re.resolve(te.dirname(i),l),o=ie.lookupPath(i,{recurse_count:t.recurse_count}).node,u++>40)throw new ie.ErrnoError(32)}}return{path:i,node:o}},getPath:function(e){for(var t;;){if(ie.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ie.nameTable.length},hashAddNode:function(e){var t=ie.hashName(e.parent.id,e.name);e.name_next=ie.nameTable[t],ie.nameTable[t]=e},hashRemoveNode:function(e){var t=ie.hashName(e.parent.id,e.name);if(ie.nameTable[t]===e)ie.nameTable[t]=e.name_next;else for(var r=ie.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=ie.mayLookup(e);if(r)throw new ie.ErrnoError(r,e);for(var n=ie.hashName(e.id,t),a=ie.nameTable[n];a;a=a.name_next){var o=a.name;if(a.parent.id===e.id&&o===t)return a}return ie.lookup(e,t)},createNode:function(e,t,r,n){var a=new ie.FSNode(e,t,r,n);return ie.hashAddNode(a),a},destroyNode:function(e){ie.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=ie.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return ie.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=ie.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{ie.lookupNode(e,t);return 20}catch(r){}return ie.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=ie.lookupNode(e,t)}catch(o){return o.errno}var a=ie.nodePermissions(e,"wx");if(a)return a;if(r){if(!ie.isDir(n.mode))return 54;if(ie.isRoot(n)||ie.getPath(n)===ie.cwd())return 10}else if(ie.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?ie.isLink(e.mode)?32:ie.isDir(e.mode)&&("r"!==ie.flagsToPermissionString(t)||512&t)?31:ie.nodePermissions(e,ie.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||ie.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!ie.streams[r])return r;throw new ie.ErrnoError(33)},getStream:function(e){return ie.streams[e]},createStream:function(e,t,r){ie.FSStream||(ie.FSStream=function(){},ie.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new ie.FSStream;for(var a in e)n[a]=e[a];e=n;var o=ie.nextfd(t,r);return e.fd=o,ie.streams[o]=e,e},closeStream:function(e){ie.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=ie.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new ie.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){ie.devices[e]={stream_ops:t}},getDevice:function(e){return ie.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1),ie.syncFSRequests++,ie.syncFSRequests>1&&h("warning: "+ie.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=ie.getMounts(ie.root.mount),n=0;function a(e){return ie.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,a(e));++n>=r.length&&a(null)}r.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,r){var n,a="/"===r,o=!r;if(a&&ie.root)throw new ie.ErrnoError(10);if(!a&&!o){var i=ie.lookupPath(r,{follow_mount:!1});if(r=i.path,n=i.node,ie.isMountpoint(n))throw new ie.ErrnoError(10);if(!ie.isDir(n.mode))throw new ie.ErrnoError(54)}var c={type:e,opts:t,mountpoint:r,mounts:[]},s=e.mount(c);return s.mount=c,c.root=s,a?ie.root=s:n&&(n.mounted=c,n.mount&&n.mount.mounts.push(c)),s},unmount:function(e){var t=ie.lookupPath(e,{follow_mount:!1});if(!ie.isMountpoint(t.node))throw new ie.ErrnoError(28);var r=t.node,n=r.mounted,a=ie.getMounts(n);Object.keys(ie.nameTable).forEach((function(e){for(var t=ie.nameTable[e];t;){var r=t.name_next;-1!==a.indexOf(t.mount)&&ie.destroyNode(t),t=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=ie.lookupPath(e,{parent:!0}).node,a=te.basename(e);if(!a||"."===a||".."===a)throw new ie.ErrnoError(28);var o=ie.mayCreate(n,a);if(o)throw new ie.ErrnoError(o);if(!n.node_ops.mknod)throw new ie.ErrnoError(63);return n.node_ops.mknod(n,a,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,ie.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,ie.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",a=0;a<r.length;++a)if(r[a]){n+="/"+r[a];try{ie.mkdir(n,t)}catch(o){if(20!=o.errno)throw o}}},mkdev:function(e,t,r){return"undefined"===typeof r&&(r=t,t=438),t|=8192,ie.mknod(e,t,r)},symlink:function(e,t){if(!re.resolve(e))throw new ie.ErrnoError(44);var r=ie.lookupPath(t,{parent:!0}).node;if(!r)throw new ie.ErrnoError(44);var n=te.basename(t),a=ie.mayCreate(r,n);if(a)throw new ie.ErrnoError(a);if(!r.node_ops.symlink)throw new ie.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,a=te.dirname(e),o=te.dirname(t),i=te.basename(e),c=te.basename(t);if(r=ie.lookupPath(e,{parent:!0}).node,n=ie.lookupPath(t,{parent:!0}).node,!r||!n)throw new ie.ErrnoError(44);if(r.mount!==n.mount)throw new ie.ErrnoError(75);var s,u=ie.lookupNode(r,i),l=re.relative(e,o);if("."!==l.charAt(0))throw new ie.ErrnoError(28);if("."!==(l=re.relative(t,a)).charAt(0))throw new ie.ErrnoError(55);try{s=ie.lookupNode(n,c)}catch(p){}if(u!==s){var f=ie.isDir(u.mode),d=ie.mayDelete(r,i,f);if(d)throw new ie.ErrnoError(d);if(d=s?ie.mayDelete(n,c,f):ie.mayCreate(n,c))throw new ie.ErrnoError(d);if(!r.node_ops.rename)throw new ie.ErrnoError(63);if(ie.isMountpoint(u)||s&&ie.isMountpoint(s))throw new ie.ErrnoError(10);if(n!==r&&(d=ie.nodePermissions(r,"w")))throw new ie.ErrnoError(d);try{ie.trackingDelegate.willMovePath&&ie.trackingDelegate.willMovePath(e,t)}catch(p){h("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+p.message)}ie.hashRemoveNode(u);try{r.node_ops.rename(u,n,c)}catch(p){throw p}finally{ie.hashAddNode(u)}try{ie.trackingDelegate.onMovePath&&ie.trackingDelegate.onMovePath(e,t)}catch(p){h("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+p.message)}}},rmdir:function(e){var t=ie.lookupPath(e,{parent:!0}).node,r=te.basename(e),n=ie.lookupNode(t,r),a=ie.mayDelete(t,r,!0);if(a)throw new ie.ErrnoError(a);if(!t.node_ops.rmdir)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);try{ie.trackingDelegate.willDeletePath&&ie.trackingDelegate.willDeletePath(e)}catch(o){h("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}t.node_ops.rmdir(t,r),ie.destroyNode(n);try{ie.trackingDelegate.onDeletePath&&ie.trackingDelegate.onDeletePath(e)}catch(o){h("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readdir:function(e){var t=ie.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new ie.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=ie.lookupPath(e,{parent:!0}).node,r=te.basename(e),n=ie.lookupNode(t,r),a=ie.mayDelete(t,r,!1);if(a)throw new ie.ErrnoError(a);if(!t.node_ops.unlink)throw new ie.ErrnoError(63);if(ie.isMountpoint(n))throw new ie.ErrnoError(10);try{ie.trackingDelegate.willDeletePath&&ie.trackingDelegate.willDeletePath(e)}catch(o){h("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}t.node_ops.unlink(t,r),ie.destroyNode(n);try{ie.trackingDelegate.onDeletePath&&ie.trackingDelegate.onDeletePath(e)}catch(o){h("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+o.message)}},readlink:function(e){var t=ie.lookupPath(e).node;if(!t)throw new ie.ErrnoError(44);if(!t.node_ops.readlink)throw new ie.ErrnoError(28);return re.resolve(ie.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=ie.lookupPath(e,{follow:!t}).node;if(!r)throw new ie.ErrnoError(44);if(!r.node_ops.getattr)throw new ie.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return ie.stat(e,!0)},chmod:function(e,t,r){var n;"string"===typeof e?n=ie.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){ie.chmod(e,t,!0)},fchmod:function(e,t){var r=ie.getStream(e);if(!r)throw new ie.ErrnoError(8);ie.chmod(r.node,t)},chown:function(e,t,r,n){var a;"string"===typeof e?a=ie.lookupPath(e,{follow:!n}).node:a=e;if(!a.node_ops.setattr)throw new ie.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,t,r){ie.chown(e,t,r,!0)},fchown:function(e,t,r){var n=ie.getStream(e);if(!n)throw new ie.ErrnoError(8);ie.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new ie.ErrnoError(28);var r;"string"===typeof e?r=ie.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new ie.ErrnoError(63);if(ie.isDir(r.mode))throw new ie.ErrnoError(31);if(!ie.isFile(r.mode))throw new ie.ErrnoError(28);var n=ie.nodePermissions(r,"w");if(n)throw new ie.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=ie.getStream(e);if(!r)throw new ie.ErrnoError(8);if(0===(2097155&r.flags))throw new ie.ErrnoError(28);ie.truncate(r.node,t)},utime:function(e,t,r){var n=ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,o){if(""===e)throw new ie.ErrnoError(44);var i;if(r="undefined"===typeof r?438:r,r=64&(t="string"===typeof t?ie.modeStringToFlags(t):t)?4095&r|32768:0,"object"===typeof e)i=e;else{e=te.normalize(e);try{i=ie.lookupPath(e,{follow:!(131072&t)}).node}catch(f){}}var c=!1;if(64&t)if(i){if(128&t)throw new ie.ErrnoError(20)}else i=ie.mknod(e,r,0),c=!0;if(!i)throw new ie.ErrnoError(44);if(ie.isChrdev(i.mode)&&(t&=-513),65536&t&&!ie.isDir(i.mode))throw new ie.ErrnoError(54);if(!c){var s=ie.mayOpen(i,t);if(s)throw new ie.ErrnoError(s)}512&t&&ie.truncate(i,0),t&=-131713;var u=ie.createStream({node:i,path:ie.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},n,o);u.stream_ops.open&&u.stream_ops.open(u),!a.logReadFiles||1&t||(ie.readFiles||(ie.readFiles={}),e in ie.readFiles||(ie.readFiles[e]=1,h("FS.trackingDelegate error on read file: "+e)));try{if(ie.trackingDelegate.onOpenFile){var l=0;1!==(2097155&t)&&(l|=ie.tracking.openFlags.READ),0!==(2097155&t)&&(l|=ie.tracking.openFlags.WRITE),ie.trackingDelegate.onOpenFile(e,l)}}catch(f){h("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+f.message)}return u},close:function(e){if(ie.isClosed(e))throw new ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{ie.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new ie.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,a){if(n<0||a<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(1===(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.read)throw new ie.ErrnoError(28);var o="undefined"!==typeof a;if(o){if(!e.seekable)throw new ie.ErrnoError(70)}else a=e.position;var i=e.stream_ops.read(e,t,r,n,a);return o||(e.position+=i),i},write:function(e,t,r,n,a,o){if(n<0||a<0)throw new ie.ErrnoError(28);if(ie.isClosed(e))throw new ie.ErrnoError(8);if(0===(2097155&e.flags))throw new ie.ErrnoError(8);if(ie.isDir(e.node.mode))throw new ie.ErrnoError(31);if(!e.stream_ops.write)throw new ie.ErrnoError(28);e.seekable&&1024&e.flags&&ie.llseek(e,0,2);var i="undefined"!==typeof a;if(i){if(!e.seekable)throw new ie.ErrnoError(70)}else a=e.position;var c=e.stream_ops.write(e,t,r,n,a,o);i||(e.position+=c);try{e.path&&ie.trackingDelegate.onWriteToFile&&ie.trackingDelegate.onWriteToFile(e.path)}catch(s){h("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+s.message)}return c},allocate:function(e,t,r){if(ie.isClosed(e))throw new ie.ErrnoError(8);if(t<0||r<=0)throw new ie.ErrnoError(28);if(0===(2097155&e.flags))throw new ie.ErrnoError(8);if(!ie.isFile(e.node.mode)&&!ie.isDir(e.node.mode))throw new ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new ie.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,a,o){if(0!==(2&a)&&0===(2&o)&&2!==(2097155&e.flags))throw new ie.ErrnoError(2);if(1===(2097155&e.flags))throw new ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new ie.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,a,o)},msync:function(e,t,r,n,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,a):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new ie.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=ie.open(e,t.flags),a=ie.stat(e).size,o=new Uint8Array(a);return ie.read(n,o,0,a,0),"utf8"===t.encoding?r=S(o,0):"binary"===t.encoding&&(r=o),ie.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||577;var n=ie.open(e,r.flags,r.mode);if("string"===typeof t){var a=new Uint8Array(P(t)+1),o=D(t,a,0,a.length);ie.write(n,a,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");ie.write(n,t,0,t.byteLength,void 0,r.canOwn)}ie.close(n)},cwd:function(){return ie.currentPath},chdir:function(e){var t=ie.lookupPath(e,{follow:!0});if(null===t.node)throw new ie.ErrnoError(44);if(!ie.isDir(t.node.mode))throw new ie.ErrnoError(54);var r=ie.nodePermissions(t.node,"x");if(r)throw new ie.ErrnoError(r);ie.currentPath=t.path},createDefaultDirectories:function(){ie.mkdir("/tmp"),ie.mkdir("/home"),ie.mkdir("/home/web_user")},createDefaultDevices:function(){ie.mkdir("/dev"),ie.registerDevice(ie.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,a){return n}}),ie.mkdev("/dev/null",ie.makedev(1,3)),ne.register(ie.makedev(5,0),ne.default_tty_ops),ne.register(ie.makedev(6,0),ne.default_tty1_ops),ie.mkdev("/dev/tty",ie.makedev(5,0)),ie.mkdev("/dev/tty1",ie.makedev(6,0));var e=function(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){W("randomDevice")}}();ie.createDevice("/dev","random",e),ie.createDevice("/dev","urandom",e),ie.mkdir("/dev/shm"),ie.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){ie.mkdir("/proc");var e=ie.mkdir("/proc/self");ie.mkdir("/proc/self/fd"),ie.mount({mount:function(){var t=ie.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var r=+t,n=ie.getStream(r);if(!n)throw new ie.ErrnoError(8);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return a.parent=a,a}},t}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?ie.createDevice("/dev","stdin",a.stdin):ie.symlink("/dev/tty","/dev/stdin"),a.stdout?ie.createDevice("/dev","stdout",null,a.stdout):ie.symlink("/dev/tty","/dev/stdout"),a.stderr?ie.createDevice("/dev","stderr",null,a.stderr):ie.symlink("/dev/tty1","/dev/stderr");ie.open("/dev/stdin",0),ie.open("/dev/stdout",1),ie.open("/dev/stderr",1)},ensureErrnoError:function(){ie.ErrnoError||(ie.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},ie.ErrnoError.prototype=new Error,ie.ErrnoError.prototype.constructor=ie.ErrnoError,[44].forEach((function(e){ie.genericErrors[e]=new ie.ErrnoError(e),ie.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){ie.ensureErrnoError(),ie.nameTable=new Array(4096),ie.mount(oe,{},"/"),ie.createDefaultDirectories(),ie.createDefaultDevices(),ie.createSpecialDirectories(),ie.filesystems={MEMFS:oe}},init:function(e,t,r){ie.init.initialized=!0,ie.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=t||a.stdout,a.stderr=r||a.stderr,ie.createStandardStreams()},quit:function(){ie.init.initialized=!1;var e=a._fflush;e&&e(0);for(var t=0;t<ie.streams.length;t++){var r=ie.streams[t];r&&ie.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=ie.analyzePath(e,t);return r.exists?r.object:null},analyzePath:function(e,t){try{e=(n=ie.lookupPath(e,{follow:!t})).path}catch(a){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=ie.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=te.basename(e),n=ie.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(a){r.error=a.errno}return r},createPath:function(e,t,r,n){e="string"===typeof e?e:ie.getPath(e);for(var a=t.split("/").reverse();a.length;){var o=a.pop();if(o){var i=te.join2(e,o);try{ie.mkdir(i)}catch(c){}e=i}}return i},createFile:function(e,t,r,n,a){var o=te.join2("string"===typeof e?e:ie.getPath(e),t),i=ie.getMode(n,a);return ie.create(o,i)},createDataFile:function(e,t,r,n,a,o){var i=t?te.join2("string"===typeof e?e:ie.getPath(e),t):e,c=ie.getMode(n,a),s=ie.create(i,c);if(r){if("string"===typeof r){for(var u=new Array(r.length),l=0,f=r.length;l<f;++l)u[l]=r.charCodeAt(l);r=u}ie.chmod(s,146|c);var d=ie.open(s,577);ie.write(d,r,0,r.length,0,o),ie.close(d),ie.chmod(s,c)}return s},createDevice:function(e,t,r,n){var a=te.join2("string"===typeof e?e:ie.getPath(e),t),o=ie.getMode(!!r,!!n);ie.createDevice.major||(ie.createDevice.major=64);var i=ie.makedev(ie.createDevice.major++,0);return ie.registerDevice(i,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,a,o){for(var i=0,c=0;c<a;c++){var s;try{s=r()}catch(u){throw new ie.ErrnoError(29)}if(void 0===s&&0===i)throw new ie.ErrnoError(6);if(null===s||void 0===s)break;i++,t[n+c]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,r,a,o){for(var i=0;i<a;i++)try{n(t[r+i])}catch(c){throw new ie.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),i}}),ie.mkdev(a,o,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!c)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Ye(c(e.url),!0),e.usedBytes=e.contents.length}catch(t){throw new ie.ErrnoError(29)}},createLazyFile:function(e,t,r,n,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),a=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,i=1048576;a||(i=n);var c=this;c.setDataGetter((function(e){var t=e*i,a=(e+1)*i-1;if(a=Math.min(a,n-1),"undefined"===typeof c.chunks[e]&&(c.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",r,!1),n!==i&&a.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+r+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):Ye(a.responseText||"",!0)}(t,a)),"undefined"===typeof c.chunks[e])throw new Error("doXHR failed!");return c.chunks[e]})),!o&&n||(i=n=1,n=this.getter(0).length,i=n,p("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=i,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i={isDevice:!1,url:r},c=ie.createFile(e,t,i,n,a);i.contents?c.contents=i.contents:i.url&&(c.contents=null,c.url=i.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(c.stream_ops).forEach((function(e){var t=c.stream_ops[e];s[e]=function(){return ie.forceLoadFile(c),t.apply(null,arguments)}})),s.read=function(e,t,r,n,a){ie.forceLoadFile(c);var o=e.node.contents;if(a>=o.length)return 0;var i=Math.min(o.length-a,n);if(o.slice)for(var s=0;s<i;s++)t[r+s]=o[a+s];else for(s=0;s<i;s++)t[r+s]=o.get(a+s);return i},c.stream_ops=s,c},createPreloadedFile:function(e,t,r,n,o,i,c,s,u,l){Browser.init();var f=t?re.resolve(te.join2(e,t)):e;function d(r){function d(r){l&&l(),s||ie.createDataFile(e,t,r,n,o,u),i&&i(),K()}var p=!1;a.preloadPlugins.forEach((function(e){p||e.canHandle(f)&&(e.handle(r,f,d,(function(){c&&c(),K()})),p=!0)})),p||d(r)}H(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),c):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ie.indexedDB();try{var a=n.open(ie.DB_NAME(),ie.DB_VERSION)}catch(o){return r(o)}a.onupgradeneeded=function(){p("creating db"),a.result.createObjectStore(ie.DB_STORE_NAME)},a.onsuccess=function(){var n=a.result.transaction([ie.DB_STORE_NAME],"readwrite"),o=n.objectStore(ie.DB_STORE_NAME),i=0,c=0,s=e.length;function u(){0==c?t():r()}e.forEach((function(e){var t=o.put(ie.analyzePath(e).object.contents,e);t.onsuccess=function(){++i+c==s&&u()},t.onerror=function(){c++,i+c==s&&u()}})),n.onerror=r},a.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=ie.indexedDB();try{var a=n.open(ie.DB_NAME(),ie.DB_VERSION)}catch(o){return r(o)}a.onupgradeneeded=r,a.onsuccess=function(){var n=a.result;try{var i=n.transaction([ie.DB_STORE_NAME],"readonly")}catch(o){return void r(o)}var c=i.objectStore(ie.DB_STORE_NAME),s=0,u=0,l=e.length;function f(){0==u?t():r()}e.forEach((function(e){var t=c.get(e);t.onsuccess=function(){ie.analyzePath(e).exists&&ie.unlink(e),ie.createDataFile(te.dirname(e),te.basename(e),t.result,!0,!0,!0),++s+u==l&&f()},t.onerror=function(){u++,s+u==l&&f()}})),i.onerror=r},a.onerror=r}},ce={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t,r){if("/"===t[0])return t;var n;if(-100===e)n=ie.cwd();else{var a=ie.getStream(e);if(!a)throw new ie.ErrnoError(8);n=a.path}if(0==t.length){if(!r)throw new ie.ErrnoError(44);return n}return te.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(a){if(a&&a.node&&te.normalize(t)!==te.normalize(ie.getPath(a.node)))return-54;throw a}return x[r>>2]=n.dev,x[r+4>>2]=0,x[r+8>>2]=n.ino,x[r+12>>2]=n.mode,x[r+16>>2]=n.nlink,x[r+20>>2]=n.uid,x[r+24>>2]=n.gid,x[r+28>>2]=n.rdev,x[r+32>>2]=0,X=[n.size>>>0,(Z=n.size,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[r+40>>2]=X[0],x[r+44>>2]=X[1],x[r+48>>2]=4096,x[r+52>>2]=n.blocks,x[r+56>>2]=n.atime.getTime()/1e3|0,x[r+60>>2]=0,x[r+64>>2]=n.mtime.getTime()/1e3|0,x[r+68>>2]=0,x[r+72>>2]=n.ctime.getTime()/1e3|0,x[r+76>>2]=0,X=[n.ino>>>0,(Z=n.ino,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[r+80>>2]=X[0],x[r+84>>2]=X[1],0},doMsync:function(e,t,r,n,a){var o=O.slice(e,e+r);ie.msync(t,o,a,r,n)},doMkdir:function(e,t){return"/"===(e=te.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),ie.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return ie.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=ie.readlink(e),a=Math.min(r,P(n)),o=w[t+a];return C(n,t,r+1),w[t+a]=o,a},doAccess:function(e,t){if(-8&t)return-28;var r;if(!(r=ie.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&ie.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=ie.getStream(r);return n&&ie.close(n),ie.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var a=0,o=0;o<r;o++){var i=x[t+8*o>>2],c=x[t+(8*o+4)>>2],s=ie.read(e,w,i,c,n);if(s<0)return-1;if(a+=s,s<c)break}return a},doWritev:function(e,t,r,n){for(var a=0,o=0;o<r;o++){var i=x[t+8*o>>2],c=x[t+(8*o+4)>>2],s=ie.write(e,w,i,c,n);if(s<0)return-1;a+=s}return a},varargs:void 0,get:function(){return ce.varargs+=4,x[ce.varargs-4>>2]},getStr:function(e){return F(e)},getStreamFromFD:function(e){var t=ie.getStream(e);if(!t)throw new ie.ErrnoError(8);return t},get64:function(e,t){return e}};var se=63,ue=6,le=28,fe=138,de=14,pe=23,he=26,me=7,be=17,ve=30,ge=53,je={mount:function(e){return a.websocket=a.websocket&&"object"===typeof a.websocket?a.websocket:{},a.websocket._callbacks={},a.websocket.on=function(e,t){return"function"===typeof t&&(this._callbacks[e]=t),this},a.websocket.emit=function(e,t){"function"===typeof this._callbacks[e]&&this._callbacks[e].call(this,t)},ie.createNode(null,"/",16895,0)},createSocket:function(e,t,r){t&=-526337,r&&j(1==t==(6==r));var n={family:e,type:t,protocol:r,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:je.websocket_sock_ops},a=je.nextname(),o=ie.createNode(je.root,a,49152,0);o.sock=n;var i=ie.createStream({path:a,node:o,flags:2,seekable:!1,stream_ops:je.stream_ops});return n.stream=i,n},getSocket:function(e){var t=ie.getStream(e);return t&&ie.isSocket(t.node.mode)?t.node.sock:null},stream_ops:{poll:function(e){var t=e.node.sock;return t.sock_ops.poll(t)},ioctl:function(e,t,r){var n=e.node.sock;return n.sock_ops.ioctl(n,t,r)},read:function(e,t,r,n,a){var o=e.node.sock,i=o.sock_ops.recvmsg(o,n);return i?(t.set(i.buffer,r),i.buffer.length):0},write:function(e,t,r,n,a){var o=e.node.sock;return o.sock_ops.sendmsg(o,t,r,n)},close:function(e){var t=e.node.sock;t.sock_ops.close(t)}},nextname:function(){return je.nextname.current||(je.nextname.current=0),"socket["+je.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(e,t,r){var n;if("object"===typeof t&&(n=t,t=null,r=null),n)if(n._socket)t=n._socket.remoteAddress,r=n._socket.remotePort;else{var o=/ws[s]?:\/\/([^:]+):(\d+)/.exec(n.url);if(!o)throw new Error("WebSocket URL must be in the format ws(s)://address:port");t=o[1],r=parseInt(o[2],10)}else try{var i=a.websocket&&"object"===typeof a.websocket,c="ws:#".replace("#","//");if(i&&"string"===typeof a.websocket.url&&(c=a.websocket.url),"ws://"===c||"wss://"===c){var s=t.split("/");c=c+s[0]+":"+r+"/"+s.slice(1).join("/")}var u="binary";i&&"string"===typeof a.websocket.subprotocol&&(u=a.websocket.subprotocol);var l=void 0;"null"!==u&&(l=u=u.replace(/^ +| +$/g,"").split(/ *, */)),i&&null===a.websocket.subprotocol&&(u="null",l=void 0),(n=new WebSocket(c,l)).binaryType="arraybuffer"}catch(d){throw new ie.ErrnoError(pe)}var f={addr:t,port:r,socket:n,dgram_send_queue:[]};return je.websocket_sock_ops.addPeer(e,f),je.websocket_sock_ops.handlePeerEvents(e,f),2===e.type&&"undefined"!==typeof e.sport&&f.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&e.sport)>>8,255&e.sport])),f},getPeer:function(e,t,r){return e.peers[t+":"+r]},addPeer:function(e,t){e.peers[t.addr+":"+t.port]=t},removePeer:function(e,t){delete e.peers[t.addr+":"+t.port]},handlePeerEvents:function(e,t){var r=!0,n=function(){a.websocket.emit("open",e.stream.fd);try{for(var r=t.dgram_send_queue.shift();r;)t.socket.send(r),r=t.dgram_send_queue.shift()}catch(n){t.socket.close()}};function o(n){if("string"===typeof n){n=(new TextEncoder).encode(n)}else{if(j(void 0!==n.byteLength),0==n.byteLength)return;n=new Uint8Array(n)}var o=r;if(r=!1,o&&10===n.length&&255===n[0]&&255===n[1]&&255===n[2]&&255===n[3]&&n[4]==="p".charCodeAt(0)&&n[5]==="o".charCodeAt(0)&&n[6]==="r".charCodeAt(0)&&n[7]==="t".charCodeAt(0)){var i=n[8]<<8|n[9];return je.websocket_sock_ops.removePeer(e,t),t.port=i,void je.websocket_sock_ops.addPeer(e,t)}e.recv_queue.push({addr:t.addr,port:t.port,data:n}),a.websocket.emit("message",e.stream.fd)}t.socket.onopen=n,t.socket.onclose=function(){a.websocket.emit("close",e.stream.fd)},t.socket.onmessage=function(e){o(e.data)},t.socket.onerror=function(t){e.error=de,a.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])}},poll:function(e){if(1===e.type&&e.server)return e.pending.length?65:0;var t=0,r=1===e.type?je.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!r||r&&r.socket.readyState===r.socket.CLOSING||r&&r.socket.readyState===r.socket.CLOSED)&&(t|=65),(!r||r&&r.socket.readyState===r.socket.OPEN)&&(t|=4),(r&&r.socket.readyState===r.socket.CLOSING||r&&r.socket.readyState===r.socket.CLOSED)&&(t|=16),t},ioctl:function(e,t,r){switch(t){case 21531:var n=0;return e.recv_queue.length&&(n=e.recv_queue[0].data.length),x[r>>2]=n,0;default:return le}},close:function(e){if(e.server){try{e.server.close()}catch(a){}e.server=null}for(var t=Object.keys(e.peers),r=0;r<t.length;r++){var n=e.peers[t[r]];try{n.socket.close()}catch(a){}je.websocket_sock_ops.removePeer(e,n)}return 0},bind:function(e,t,r){if("undefined"!==typeof e.saddr||"undefined"!==typeof e.sport)throw new ie.ErrnoError(le);if(e.saddr=t,e.sport=r,2===e.type){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(n){if(!(n instanceof ie.ErrnoError))throw n;if(n.errno!==fe)throw n}}},connect:function(e,t,r){if(e.server)throw new ie.ErrnoError(fe);if("undefined"!==typeof e.daddr&&"undefined"!==typeof e.dport){var n=je.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(n)throw n.socket.readyState===n.socket.CONNECTING?new ie.ErrnoError(me):new ie.ErrnoError(ve)}var a=je.websocket_sock_ops.createPeer(e,t,r);throw e.daddr=a.addr,e.dport=a.port,new ie.ErrnoError(he)},listen:function(e,t){throw new ie.ErrnoError(fe)},accept:function(e){if(!e.server)throw new ie.ErrnoError(le);var t=e.pending.shift();return t.stream.flags=e.stream.flags,t},getname:function(e,t){var r,n;if(t){if(void 0===e.daddr||void 0===e.dport)throw new ie.ErrnoError(ge);r=e.daddr,n=e.dport}else r=e.saddr||0,n=e.sport||0;return{addr:r,port:n}},sendmsg:function(e,t,r,n,a,o){if(2===e.type){if(void 0!==a&&void 0!==o||(a=e.daddr,o=e.dport),void 0===a||void 0===o)throw new ie.ErrnoError(be)}else a=e.daddr,o=e.dport;var i,c=je.websocket_sock_ops.getPeer(e,a,o);if(1===e.type){if(!c||c.socket.readyState===c.socket.CLOSING||c.socket.readyState===c.socket.CLOSED)throw new ie.ErrnoError(ge);if(c.socket.readyState===c.socket.CONNECTING)throw new ie.ErrnoError(ue)}if(ArrayBuffer.isView(t)&&(r+=t.byteOffset,t=t.buffer),i=t.slice(r,r+n),2===e.type&&(!c||c.socket.readyState!==c.socket.OPEN))return c&&c.socket.readyState!==c.socket.CLOSING&&c.socket.readyState!==c.socket.CLOSED||(c=je.websocket_sock_ops.createPeer(e,a,o)),c.dgram_send_queue.push(i),n;try{return c.socket.send(i),n}catch(s){throw new ie.ErrnoError(le)}},recvmsg:function(e,t){if(1===e.type&&e.server)throw new ie.ErrnoError(ge);var r=e.recv_queue.shift();if(!r){if(1===e.type){var n=je.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(n){if(n.socket.readyState===n.socket.CLOSING||n.socket.readyState===n.socket.CLOSED)return null;throw new ie.ErrnoError(ue)}throw new ie.ErrnoError(ge)}throw new ie.ErrnoError(ue)}var a=r.data.byteLength||r.data.length,o=r.data.byteOffset||0,i=r.data.buffer||r.data,c=Math.min(t,a),s={buffer:new Uint8Array(i,o,c),addr:r.addr,port:r.port};if(1===e.type&&c<a){var u=a-c;r.data=new Uint8Array(i,o+c,u),e.recv_queue.unshift(r)}return s}}};function ye(e){var t=je.getSocket(e);if(!t)throw new ie.ErrnoError(8);return t}function we(e){return x[Qe()>>2]=e,e}function Oe(e){for(var t=e.split("."),r=0;r<4;r++){var n=Number(t[r]);if(isNaN(n))return null;t[r]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function ke(e){return parseInt(e)}function Ee(e){var t,r,n,a,o=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=0===e.indexOf("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=ke(t[t.length-4])+256*ke(t[t.length-3]),t[t.length-3]=ke(t[t.length-2])+256*ke(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,a=0,r=0;r<t.length;r++)if("string"===typeof t[r])if("Z"===t[r]){for(a=0;a<8-t.length+1;a++)o[r+a]=0;n=a-1}else o[r+n]=nt(parseInt(t[r],16));else o[r+n]=t[r];return[o[1]<<16|o[0],o[3]<<16|o[2],o[5]<<16|o[4],o[7]<<16|o[6]]}function xe(e,t,r,n,a){switch(t){case 2:r=Oe(r),a&&(x[a>>2]=16),k[e>>1]=t,x[e+4>>2]=r,k[e+2>>1]=nt(n),X=[0,(Z=0,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[e+8>>2]=X[0],x[e+12>>2]=X[1];break;case 10:r=Ee(r),a&&(x[a>>2]=28),x[e>>2]=t,x[e+8>>2]=r[0],x[e+12>>2]=r[1],x[e+16>>2]=r[2],x[e+20>>2]=r[3],k[e+2>>1]=nt(n),x[e+4>>2]=0,x[e+24>>2]=0;break;default:return 5}return 0}var _e={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,r=Oe(e);if(null!==r)return e;if(null!==(r=Ee(e)))return e;if(_e.address_map.addrs[e])t=_e.address_map.addrs[e];else{var n=_e.address_map.id++;j(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),_e.address_map.names[t]=e,_e.address_map.addrs[e]=t}return t},lookup_addr:function(e){return _e.address_map.names[e]?_e.address_map.names[e]:null}};function Se(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function Fe(e){var t="",r=0,n=0,a=0,o=0,i=0,c=0,s=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,l="";for(c=0;c<5;c++)if(0!==s[c]){u=!1;break}if(u){if(l=Se(s[6]|s[7]<<16),-1===s[5])return t="::ffff:",t+=l;if(0===s[5])return t="::","0.0.0.0"===l&&(l=""),"0.0.0.1"===l&&(l="1"),t+=l}for(r=0;r<8;r++)0===s[r]&&(r-a>1&&(i=0),a=r,i++),i>n&&(o=r-(n=i)+1);for(r=0;r<8;r++)n>1&&0===s[r]&&r>=o&&r<o+n?r===o&&(t+=":",0===o&&(t+=":")):(t+=Number(tt(65535&s[r])).toString(16),t+=r<7?":":"");return t}function De(e,t){var r,n=k[e>>1],a=tt(E[e+2>>1]);switch(n){case 2:if(16!==t)return{errno:28};r=Se(r=x[e+4>>2]);break;case 10:if(28!==t)return{errno:28};r=Fe(r=[x[e+8>>2],x[e+12>>2],x[e+16>>2],x[e+20>>2]]);break;default:return{errno:5}}return{family:n,addr:r,port:a}}function Ce(e,t,r){if(r&&0===e)return null;var n=De(e,t);if(n.errno)throw new ie.ErrnoError(n.errno);return n.addr=_e.lookup_addr(n.addr)||n.addr,n}function Pe(){return 0}var Ae={BUCKET_BUFFER_SIZE:8192,mount:function(e){return ie.createNode(null,"/",16895,0)},createPipe:function(){var e={buckets:[]};e.buckets.push({buffer:new Uint8Array(Ae.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var t=Ae.nextname(),r=Ae.nextname(),n=ie.createNode(Ae.root,t,4096,0),a=ie.createNode(Ae.root,r,4096,0);n.pipe=e,a.pipe=e;var o=ie.createStream({path:t,node:n,flags:0,seekable:!1,stream_ops:Ae.stream_ops});n.stream=o;var i=ie.createStream({path:r,node:a,flags:1,seekable:!1,stream_ops:Ae.stream_ops});return a.stream=i,{readable_fd:o.fd,writable_fd:i.fd}},stream_ops:{poll:function(e){var t=e.node.pipe;if(1===(2097155&e.flags))return 260;if(t.buckets.length>0)for(var r=0;r<t.buckets.length;r++){var n=t.buckets[r];if(n.offset-n.roffset>0)return 65}return 0},ioctl:function(e,t,r){return le},fsync:function(e){return le},read:function(e,t,r,n,a){for(var o=e.node.pipe,i=0,c=0;c<o.buckets.length;c++){var s=o.buckets[c];i+=s.offset-s.roffset}j(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var u=t.subarray(r,r+n);if(n<=0)return 0;if(0==i)throw new ie.ErrnoError(ue);var l=Math.min(i,n),f=l,d=0;for(c=0;c<o.buckets.length;c++){var p=o.buckets[c],h=p.offset-p.roffset;if(l<=h){var m=p.buffer.subarray(p.roffset,p.offset);l<h?(m=m.subarray(0,l),p.roffset+=l):d++,u.set(m);break}m=p.buffer.subarray(p.roffset,p.offset);u.set(m),u=u.subarray(m.byteLength),l-=m.byteLength,d++}return d&&d==o.buckets.length&&(d--,o.buckets[d].offset=0,o.buckets[d].roffset=0),o.buckets.splice(0,d),f},write:function(e,t,r,n,a){var o=e.node.pipe;j(t instanceof ArrayBuffer||ArrayBuffer.isView(t));var i=t.subarray(r,r+n),c=i.byteLength;if(c<=0)return 0;var s=null;0==o.buckets.length?(s={buffer:new Uint8Array(Ae.BUCKET_BUFFER_SIZE),offset:0,roffset:0},o.buckets.push(s)):s=o.buckets[o.buckets.length-1],j(s.offset<=Ae.BUCKET_BUFFER_SIZE);var u=Ae.BUCKET_BUFFER_SIZE-s.offset;if(u>=c)return s.buffer.set(i,s.offset),s.offset+=c,c;u>0&&(s.buffer.set(i.subarray(0,u),s.offset),s.offset+=u,i=i.subarray(u,i.byteLength));for(var l=i.byteLength/Ae.BUCKET_BUFFER_SIZE|0,f=i.byteLength%Ae.BUCKET_BUFFER_SIZE,d=0;d<l;d++){var p={buffer:new Uint8Array(Ae.BUCKET_BUFFER_SIZE),offset:Ae.BUCKET_BUFFER_SIZE,roffset:0};o.buckets.push(p),p.buffer.set(i.subarray(0,Ae.BUCKET_BUFFER_SIZE)),i=i.subarray(Ae.BUCKET_BUFFER_SIZE,i.byteLength)}if(f>0){p={buffer:new Uint8Array(Ae.BUCKET_BUFFER_SIZE),offset:i.byteLength,roffset:0};o.buckets.push(p),p.buffer.set(i)}return c},close:function(e){e.node.pipe.buckets=null}},nextname:function(){return Ae.nextname.current||(Ae.nextname.current=0),"pipe["+Ae.nextname.current+++"]"}};function Me(e){ut(e)}var Ie,Te=0;Ie=function(){return performance.now()};function Ne(e){try{return b.grow(e-y.byteLength+65535>>>16),I(b.buffer),1}catch(t){}}var Re={};function Le(){if(!Le.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in Re)e[t]=Re[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Le.strings=r}return Le.strings}var Be={};function Ve(e){return e%4===0&&(e%100!==0||e%400===0)}function Ue(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var Ge=[31,29,31,30,31,30,31,31,30,31,30,31],ze=[31,28,31,30,31,30,31,31,30,31,30,31];function He(e,t){for(var r=new Date(e.getTime());t>0;){var n=Ve(r.getFullYear()),a=r.getMonth(),o=(n?Ge:ze)[a];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}var Ke=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=ie.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},We=365,qe=146;function Ye(e,t,r){var n=r>0?r:P(e)+1,a=new Array(n),o=D(e,a,0,a.length);return t&&(a.length=o),a}Object.defineProperties(Ke.prototype,{read:{get:function(){return(this.mode&We)===We},set:function(e){e?this.mode|=We:this.mode&=-366}},write:{get:function(){return(this.mode&qe)===qe},set:function(e){e?this.mode|=qe:this.mode&=-147}},isFolder:{get:function(){return ie.isDir(this.mode)}},isDevice:{get:function(){return ie.isChrdev(this.mode)}}}),ie.FSNode=Ke,ie.staticInit();var Ze,Xe={M:function(e,t){return ee(e,t)},ba:function(e,t,r,n,a){try{for(var o=0,i=t?x[t>>2]:0,c=t?x[t+4>>2]:0,s=r?x[r>>2]:0,u=r?x[r+4>>2]:0,l=n?x[n>>2]:0,f=n?x[n+4>>2]:0,d=0,p=0,h=0,m=0,b=0,v=0,g=(t?x[t>>2]:0)|(r?x[r>>2]:0)|(n?x[n>>2]:0),j=(t?x[t+4>>2]:0)|(r?x[r+4>>2]:0)|(n?x[n+4>>2]:0),y=function(e,t,r,n){return e<32?t&n:r&n},w=0;w<e;w++){var O=1<<w%32;if(y(w,g,j,O)){var k=ie.getStream(w);if(!k)throw new ie.ErrnoError(8);var E=ce.DEFAULT_POLLMASK;k.stream_ops.poll&&(E=k.stream_ops.poll(k)),1&E&&y(w,i,c,O)&&(w<32?d|=O:p|=O,o++),4&E&&y(w,s,u,O)&&(w<32?h|=O:m|=O,o++),2&E&&y(w,l,f,O)&&(w<32?b|=O:v|=O,o++)}}return t&&(x[t>>2]=d,x[t+4>>2]=p),r&&(x[r>>2]=h,x[r+4>>2]=m),n&&(x[n>>2]=b,x[n+4>>2]=v),o}catch(_){return"undefined"!==typeof ie&&_ instanceof ie.ErrnoError||W(_),-_.errno}},A:function(e,t,r,n){try{var a=ye(e),o=a.sock_ops.accept(a);if(t)xe(t,o.family,_e.lookup_name(o.daddr),o.dport,r);return o.stream.fd}catch(i){return"undefined"!==typeof ie&&i instanceof ie.ErrnoError||W(i),-i.errno}},W:function(e,t){try{return e=ce.getStr(e),ce.doAccess(e,t)}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},D:function(e,t,r){try{var n=ye(e),a=Ce(t,r);return n.sock_ops.bind(n,a.addr,a.port),0}catch(o){return"undefined"!==typeof ie&&o instanceof ie.ErrnoError||W(o),-o.errno}},ea:function(e,t){try{return e=ce.getStr(e),ie.chmod(e,t),0}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},C:function(e,t,r){try{var n=ye(e),a=Ce(t,r);return n.sock_ops.connect(n,a.addr,a.port),0}catch(o){return"undefined"!==typeof ie&&o instanceof ie.ErrnoError||W(o),-o.errno}},V:function(e){try{var t=ce.getStreamFromFD(e);return ie.open(t.path,t.flags,0).fd}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},h:function(e,t,r){ce.varargs=r;try{var n=ce.getStreamFromFD(e);switch(t){case 0:return(a=ce.get())<0?-28:ie.open(n.path,n.flags,0,a).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var a=ce.get();return n.flags|=a,0;case 12:a=ce.get();return k[a+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return we(28),-1;default:return-28}}catch(o){return"undefined"!==typeof ie&&o instanceof ie.ErrnoError||W(o),-o.errno}},ca:function(e,t){try{var r=ce.getStreamFromFD(e);return ce.doStat(ie.stat,r.path,t)}catch(n){return"undefined"!==typeof ie&&n instanceof ie.ErrnoError||W(n),-n.errno}},aa:function(e,t,r){try{var n=ce.getStreamFromFD(e);n.getdents||(n.getdents=ie.readdir(n.path));for(var a=280,o=0,i=ie.llseek(n,0,1),c=Math.floor(i/a);c<n.getdents.length&&o+a<=r;){var s,u,l=n.getdents[c];if("."===l[0])s=1,u=4;else{var f=ie.lookupNode(n.node,l);s=f.id,u=ie.isChrdev(f.mode)?2:ie.isDir(f.mode)?4:ie.isLink(f.mode)?10:8}X=[s>>>0,(Z=s,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[t+o>>2]=X[0],x[t+o+4>>2]=X[1],X=[(c+1)*a>>>0,(Z=(c+1)*a,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[t+o+8>>2]=X[0],x[t+o+12>>2]=X[1],k[t+o+16>>1]=280,w[t+o+18>>0]=u,C(l,t+o+19,256),o+=a,c+=1}return ie.llseek(n,c*a,0),o}catch(d){return"undefined"!==typeof ie&&d instanceof ie.ErrnoError||W(d),-d.errno}},Z:Pe,X:function(){return 0},P:function(){return 0},g:function(){return 42},z:function(e,t,r){try{h("__sys_getsockname "+e);var n=ye(e);xe(t,n.family,_e.lookup_name(n.saddr||"0.0.0.0"),n.sport,r);return 0}catch(a){return"undefined"!==typeof ie&&a instanceof ie.ErrnoError||W(a),-a.errno}},x:function(e,t,r,n,a){try{var o=ye(e);return 1===t&&4===r?(x[n>>2]=o.error,x[a>>2]=4,o.error=null,0):-50}catch(i){return"undefined"!==typeof ie&&i instanceof ie.ErrnoError||W(i),-i.errno}},S:function(){return 0},m:function(e,t,r){ce.varargs=r;try{var n=ce.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var a=ce.get();return x[a>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:a=ce.get();return ie.ioctl(n,t,a);case 21523:case 21524:return n.tty?0:-59;default:W("bad ioctl syscall "+t)}}catch(o){return"undefined"!==typeof ie&&o instanceof ie.ErrnoError||W(o),-o.errno}},B:function(e,t){try{var r=ye(e);return r.sock_ops.listen(r,t),0}catch(n){return"undefined"!==typeof ie&&n instanceof ie.ErrnoError||W(n),-n.errno}},da:function(e,t){try{return e=ce.getStr(e),ce.doStat(ie.lstat,e,t)}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},O:function(e,t){try{return function(e,t){if(-1===(0|e)||0===t)return-28;var r=ce.mappings[e];if(!r)return 0;if(t===r.len){var n=ie.getStream(r.fd);n&&(2&r.prot&&ce.doMsync(e,n,t,r.flags,r.offset),ie.munmap(n)),ce.mappings[e]=null,r.allocated&&et(r.malloc)}return 0}(e,t)}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},p:function(e,t,r){ce.varargs=r;try{var n=ce.getStr(e),a=r?ce.get():0;return ie.open(n,t,a).fd}catch(o){return"undefined"!==typeof ie&&o instanceof ie.ErrnoError||W(o),-o.errno}},U:function(e){try{if(0==e)throw new ie.ErrnoError(21);var t=Ae.createPipe();return x[e>>2]=t.readable_fd,x[e+4>>2]=t.writable_fd,0}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},Y:function(e,t,r){try{return e=ce.getStr(e),ce.doReadlink(e,t,r)}catch(n){return"undefined"!==typeof ie&&n instanceof ie.ErrnoError||W(n),-n.errno}},N:function(e,t){try{return e=ce.getStr(e),t=ce.getStr(t),ie.rename(e,t),0}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},y:function(e,t,r,n,a,o){try{var i=ye(e),c=Ce(a,o,!0);return c?i.sock_ops.sendmsg(i,w,t,r,c.addr,c.port):ie.write(i.stream,w,t,r)}catch(s){return"undefined"!==typeof ie&&s instanceof ie.ErrnoError||W(s),-s.errno}},T:function(e,t){return e&&42!==e?-71:t&&42!==t?-63:0},w:function(e){try{return-50}catch(t){return"undefined"!==typeof ie&&t instanceof ie.ErrnoError||W(t),-t.errno}},E:function(e,t){try{return ye(e),-52}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},k:function(e,t,r){try{return je.createSocket(e,t,r).stream.fd}catch(n){return"undefined"!==typeof ie&&n instanceof ie.ErrnoError||W(n),-n.errno}},n:function(e,t){try{return e=ce.getStr(e),ce.doStat(ie.stat,e,t)}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},R:function(e,t){try{return e=ce.getStr(e),t=ce.getStr(t),ie.symlink(e,t),0}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),-r.errno}},Q:function(e){try{return e=ce.getStr(e),ie.unlink(e),0}catch(t){return"undefined"!==typeof ie&&t instanceof ie.ErrnoError||W(t),-t.errno}},fa:function(e,t,r,n){try{W("cannot wait on child processes")}catch(a){return"undefined"!==typeof ie&&a instanceof ie.ErrnoError||W(a),-a.errno}},o:function(e){return Me(e)},ha:function(){W()},a:function(e){setTimeout((function(){Te&&T.get(Te)(0)}),1e3*e)},ga:function(e,t){B.unshift({func:e,arg:t})},q:function(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return we(28),-1;r=Ie()}return x[t>>2]=r/1e3|0,x[t+4>>2]=r%1e3*1e3*1e3|0,0},F:function(e,t,r){O.copyWithin(e,t,t+r)},G:function(e){var t,r,n=O.length,a=2147483648;if(e>a)return!1;for(var o=1;o<=4;o*=2){var i=n*(1+.2/o);if(i=Math.min(i,e+100663296),Ne(Math.min(a,((t=Math.max(e,i))%(r=65536)>0&&(t+=r-t%r),t))))return!0}return!1},L:function(e){for(var t=Ie();Ie()-t<e;);},J:function(e,t){try{var r=0;return Le().forEach((function(n,a){var o=t+r;x[e+4*a>>2]=o,M(n,o),r+=n.length+1})),0}catch(n){return"undefined"!==typeof ie&&n instanceof ie.ErrnoError||W(n),n.errno}},K:function(e,t){try{var r=Le();x[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),x[t>>2]=n,0}catch(a){return"undefined"!==typeof ie&&a instanceof ie.ErrnoError||W(a),a.errno}},d:Me,i:function(e){try{var t=ce.getStreamFromFD(e);return ie.close(t),0}catch(r){return"undefined"!==typeof ie&&r instanceof ie.ErrnoError||W(r),r.errno}},H:function(e,t){try{var r=ce.getStreamFromFD(e),n=r.tty?2:ie.isDir(r.mode)?3:ie.isLink(r.mode)?7:4;return w[t>>0]=n,0}catch(a){return"undefined"!==typeof ie&&a instanceof ie.ErrnoError||W(a),a.errno}},l:function(e,t,r,n){try{var a=ce.getStreamFromFD(e),o=ce.doReadv(a,t,r);return x[n>>2]=o,0}catch(i){return"undefined"!==typeof ie&&i instanceof ie.ErrnoError||W(i),i.errno}},v:function(e,t,r,n,a){try{var o=ce.getStreamFromFD(e),i=4294967296*r+(t>>>0),c=9007199254740992;return i<=-c||i>=c?-61:(ie.llseek(o,i,n),X=[o.position>>>0,(Z=o.position,+Math.abs(Z)>=1?Z>0?(0|Math.min(+Math.floor(Z/4294967296),4294967295))>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],x[a>>2]=X[0],x[a+4>>2]=X[1],o.getdents&&0===i&&0===n&&(o.getdents=null),0)}catch(s){return"undefined"!==typeof ie&&s instanceof ie.ErrnoError||W(s),s.errno}},j:function(e,t,r,n){try{var a=ce.getStreamFromFD(e),o=ce.doWritev(a,t,r);return x[n>>2]=o,0}catch(i){return"undefined"!==typeof ie&&i instanceof ie.ErrnoError||W(i),i.errno}},s:function(){return we(6),-1},r:function e(t){e.buffer||(e.buffer=rt(256),Be[0]="Success",Be[-1]="Invalid value for 'ai_flags' field",Be[-2]="NAME or SERVICE is unknown",Be[-3]="Temporary failure in name resolution",Be[-4]="Non-recoverable failure in name res",Be[-6]="'ai_family' not supported",Be[-7]="'ai_socktype' not supported",Be[-8]="SERVICE not supported for 'ai_socktype'",Be[-10]="Memory allocation failure",Be[-11]="System error returned in 'errno'",Be[-12]="Argument buffer overflow");var r="Unknown error";return t in Be&&(r=Be[t].length>255?"Message too long":Be[t]),M(r,e.buffer),e.buffer},ia:function(e,t,r,n){var a,o=0,i=0,c=0,s=0,u=0,l=0;function f(e,t,r,n,a,o){var i,c,s;return c=10===e?28:16,a=10===e?Fe(a):Se(a),j(!xe(i=rt(c),e,a,o)),s=rt(32),x[s+4>>2]=e,x[s+8>>2]=t,x[s+12>>2]=r,x[s+24>>2]=n,x[s+20>>2]=i,x[s+16>>2]=10===e?28:16,x[s+28>>2]=0,s}if(r&&(c=x[r>>2],s=x[r+4>>2],u=x[r+8>>2],l=x[r+12>>2]),u&&!l&&(l=2===u?17:6),!u&&l&&(u=17===l?2:1),0===l&&(l=6),0===u&&(u=1),!e&&!t)return-2;if(-1088&c)return-1;if(0!==r&&2&x[r>>2]&&!e)return-1;if(32&c)return-2;if(0!==u&&1!==u&&2!==u)return-7;if(0!==s&&2!==s&&10!==s)return-6;if(t&&(t=F(t),i=parseInt(t,10),isNaN(i)))return 1024&c?-2:-8;if(!e)return 0===s&&(s=2),0===(1&c)&&(o=2===s?at(2130706433):[0,0,0,1]),a=f(s,u,l,null,o,i),x[n>>2]=a,0;if(null!==(o=Oe(e=F(e))))if(0===s||2===s)s=2;else{if(!(10===s&&8&c))return-2;o=[0,0,at(65535),o],s=10}else if(null!==(o=Ee(e))){if(0!==s&&10!==s)return-2;s=10}return null!=o?(a=f(s,u,l,e,o,i),x[n>>2]=a,0):4&c?-2:(o=Oe(e=_e.lookup_name(e)),0===s?s=2:10===s&&(o=[0,0,at(65535),o]),a=f(s,u,l,null,o,i),x[n>>2]=a,0)},ja:function(e,t,r,n,a,o,i){var c=De(e,t);if(c.errno)return-6;var s=c.port,u=c.addr,l=!1;if(r&&n){var f;if(1&i||!(f=_e.lookup_addr(u))){if(8&i)return-2}else u=f;C(u,r,n)+1>=n&&(l=!0)}return a&&o&&C(s=""+s,a,o)+1>=o&&(l=!0),l?-12:0},f:function(e){var t=Date.now();return x[e>>2]=t/1e3|0,x[e+4>>2]=t%1e3*1e3|0,0},$:ee,I:function(e,t){return we(se),-1},b:function(e,t,r){return 0},e:function(e,t){return 14==e&&(Te=t),0},_:function(e,t,r,n){var a=x[n+40>>2],o={tm_sec:x[n>>2],tm_min:x[n+4>>2],tm_hour:x[n+8>>2],tm_mday:x[n+12>>2],tm_mon:x[n+16>>2],tm_year:x[n+20>>2],tm_wday:x[n+24>>2],tm_yday:x[n+28>>2],tm_isdst:x[n+32>>2],tm_gmtoff:x[n+36>>2],tm_zone:a?F(a):""},i=F(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var s in c)i=i.replace(new RegExp(s,"g"),c[s]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,r){for(var n="number"===typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function d(e,t){return f(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=He(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),a=h(r),o=h(n);return p(a,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var b={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return d((e.tm_year+1900)/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),d(t,2)},"%j":function(e){return d(e.tm_mday+Ue(Ve(e.tm_year+1900)?Ge:ze,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:He(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var a=Ue(Ve(n.getFullYear())?Ge:ze,n.getMonth()-1)-31,o=31-r.getDate()+a+n.getDate();return d(Math.ceil(o/7),2)}return 0===p(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),a=h(r),o=h(n),i=He(new Date(e.tm_year+1900,0,1),e.tm_yday);return p(i,a)<0?"53":p(o,i)<=0?"01":(t=a.getFullYear()<e.tm_year+1900?e.tm_yday+32-a.getDate():e.tm_yday+1-a.getDate(),d(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:He(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var a=Ue(Ve(n.getFullYear())?Ge:ze,n.getMonth()-1)-31,o=31-r.getDate()+a+n.getDate();return d(Math.ceil(o/7),2)}return 0===p(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in b)i.indexOf(s)>=0&&(i=i.replace(new RegExp(s,"g"),b[s](o)));var v=Ye(i,!1);return v.length>t?0:(function(e,t){w.set(e,t)}(v,e),v.length-1)},t:function(e){switch(e){case 30:return 16384;case 85:return 131072;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:case 80:case 81:case 79:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return we(28),-1},c:function(e){var t=Date.now()/1e3|0;return e&&(x[e>>2]=t),t},u:function(e){return 0!==e&&$e(e,0,16),0}},Je=(function(){var e={a:Xe};function t(e,t){var r=e.exports;a.asm=r,I((b=a.asm.ka).buffer),T=a.asm.na,K()}function r(e){t(e.instance)}function o(t){return(m||"function"!==typeof fetch?Promise.resolve().then((function(){return $(J)})):fetch(J,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+J+"'";return e.arrayBuffer()})).catch((function(){return $(J)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){h("failed to asynchronously prepare wasm: "+e),W(e)}))}if(H(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){return h("Module.instantiateWasm callback failed with error: "+i),!1}(m||"function"!==typeof WebAssembly.instantiateStreaming||q(J)||"function"!==typeof fetch?o(r):fetch(J,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return h("wasm streaming compile failed: "+e),h("falling back to ArrayBuffer instantiation"),o(r)}))}))).catch(n)}(),a.___wasm_call_ctors=function(){return(Je=a.___wasm_call_ctors=a.asm.la).apply(null,arguments)}),$e=a._memset=function(){return($e=a._memset=a.asm.ma).apply(null,arguments)},Qe=a.___errno_location=function(){return(Qe=a.___errno_location=a.asm.oa).apply(null,arguments)},et=(a._main=function(){return(a._main=a.asm.pa).apply(null,arguments)},a._fflush=function(){return(a._fflush=a.asm.qa).apply(null,arguments)},a._free=function(){return(et=a._free=a.asm.ra).apply(null,arguments)}),tt=a._ntohs=function(){return(tt=a._ntohs=a.asm.sa).apply(null,arguments)},rt=a._malloc=function(){return(rt=a._malloc=a.asm.ta).apply(null,arguments)},nt=a._htons=function(){return(nt=a._htons=a.asm.ua).apply(null,arguments)},at=a._htonl=function(){return(at=a._htonl=a.asm.va).apply(null,arguments)},ot=a.stackAlloc=function(){return(ot=a.stackAlloc=a.asm.wa).apply(null,arguments)};function it(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}a.callMain=ct,a.FS=ie;function ct(e){var t=a._main,r=(e=e||[]).length+1,n=ot(4*(r+1));x[n>>2]=A(l);for(var o=1;o<r;o++)x[(n>>2)+o]=A(e[o-1]);x[(n>>2)+r]=0;try{ut(t(r,n),!0)}catch(c){if(c instanceof it)return;if("unwind"==c)return void(v=!0);var i=c;c&&"object"===typeof c&&c.stack&&(i=[c,c.stack]),h("exception thrown: "+i),f(1,c)}finally{!0}}function st(e){function t(){Ze||(Ze=!0,a.calledRun=!0,g||(!0,a.noFSInit||ie.init.initialized||ie.init(),ne.init(),je.root=ie.mount(je,{},null),Ae.root=ie.mount(Ae,{},null),Q(R),ie.ignorePermissions=!1,Q(L),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),lt&&ct(e),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),V.unshift(e);var e;Q(V)}()))}e=e||u,U>0||(!function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),N.unshift(e);var e;Q(N)}(),U>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}function ut(e,t){t&&v&&0===e||(v||(e,Q(B),ie.quit(),ne.shutdown(),!0,a.onExit&&a.onExit(e),g=!0),f(e,new it(e)))}if(z=function e(){Ze||st(),Ze||(z=e)},a.run=st,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var lt=!1;return a.noInitialRun&&(lt=!1),st(),t.ready}}(),ae=r(123),oe=null,ie=function(){function e(){return Object(te.a)(this,e),oe||(oe=this),this.wasmModule=this.fetchWasmBinary(),this.resultSubject=new ae.a,oe}return Object(re.a)(e,[{key:"fetchWasmBinary",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=window.CTO_Globals)||void 0===t?void 0:t.pluginRoot)||window.location.href,e.abrupt("return",fetch("".concat(r,"/openssl.wasm")).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.compile(e)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getByteArray",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new FileReader,e.abrupt("return",new Promise((function(e,n){r.readAsArrayBuffer(t),r.onload=function(t){for(var r=new Uint8Array(t.target.result),n=[],a=0;a<r.length;a++)n.push(r[a]);e(r)},r.onerror=n})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n,a,o,i,c,s,l,f,d,p,h,m,b,v=this,g=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>1&&void 0!==g[1]?g[1]:null,n=g.length>2&&void 0!==g[2]?g[2]:"",a=!1,o=!1,i=[],c=this.convertArgsToArray(t),!t||"[object String]"===Object.prototype.toString.call(t)){e.next=8;break}return e.abrupt("return");case 8:if(n&&"[object String]"===Object.prototype.toString.call(n)&&(a=!0),!r||"[object Array]"!==Object.prototype.toString.call(r)){e.next=31;break}o=!0,s=this.filterInputFiles(c,r),l=Object(ee.a)(s),e.prev=13,l.s();case 15:if((f=l.n()).done){e.next=23;break}return d=f.value,e.next=19,this.getByteArray(d);case 19:p=e.sent,i.push({name:d.name,buffer:p});case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),l.e(e.t0);case 28:return e.prev=28,l.f(),e.finish(28);case 31:h={stdout:"",stderr:"",file:null},m=0,b=this.wasmModule,ne({thisProgram:"openssl",instantiateWasm:function(e,t){return b.then((function(r){WebAssembly.instantiate(r,e).then(t)})),{}},stdin:a?function(){if(m<n.length){var e=n.charCodeAt(m);return++m,e}return null}:function(){},print:function(e){h.stdout+=e+"\n"},printErr:function(e){h.stderr+=e+"\n"}}).then((function(e){if(o&&i.forEach((function(t){e.FS.writeFile(t.name,t.buffer)})),e.callMain(c),v.getFileOutParameter(c)){var t=e.FS.readFile(v.getFileOutParameter(c),{encoding:"binary"});h.file=new File([t],v.getFileOutParameter(c),{type:"application/octet-stream"})}})).catch((function(e){return h.stderr="".concat(e.name,": ").concat(e.message)})).finally((function(){return v.resultSubject.next(h)}));case 36:case"end":return e.stop()}}),e,this,[[13,25,28,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"convertArgsToArray",value:function(e){return e.split(/[\s]{1,}/g).filter(Boolean)}},{key:"getFileInParameter",value:function(e){return e[e.indexOf("-in")+1]}},{key:"getFileOutParameter",value:function(e){return e[e.indexOf("-out")]?e[e.indexOf("-out")+1]:null}},{key:"filterInputFiles",value:function(e,t){var r=e.map((function(e){return e.includes("file:")?e.slice(5):e})),n=t.filter((function(e){return r.includes(e.name,1)}));return n.length?t.filter((function(e){return n.map((function(e){return e.name})).includes(e.name)})):[]}},{key:"resultAsObservable",get:function(){return this.resultSubject.asObservable()}}]),e}(),ce=(r(106),new ie),se=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function ue(e){var t=e.close,r=Object(D.a)("translation").t;return Object(n.jsxs)(d.a,{className:"mb-3",children:[Object(n.jsx)(d.a.Header,{className:"bg-transparent border-bottom-0",children:Object(n.jsx)("button",{type:"button",className:"close no-after",onClick:t,children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(n.jsxs)(d.a.Body,{className:"mt-n5",children:[Object(n.jsx)(d.a.Title,{children:r("cardDescription.title")}),Object(n.jsx)(d.a.Text,{children:r("cardDescription.text")})]})]})}var le,fe=function(){var e=S(),t=e.state,r=e.dispatch,o=Object(a.useState)({stdout:"",stderr:"",file:null}),i=Object(f.a)(o,2),c=i[0],s=i[1],d=Object(a.useState)(!0),p=Object(f.a)(d,2),h=p[0],m=p[1],b=function(){var e=Object(l.a)(u.a.mark((function e(n){var a,o,i,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"",o=c.length>2&&void 0!==c[2]?c[2]:"",i=t.files.map((function(e){return e.file})),r({type:"SET_LOADING",isLoading:!0}),e.next=6,se(125);case 6:e.t0=a,e.next="enc"===e.t0?9:"genrsa"===e.t0?12:"rsa"===e.t0?15:"dgst"===e.t0?18:21;break;case 9:return e.next=11,ce.run(n,i,o);case 11:return e.abrupt("break",24);case 12:return e.next=14,ce.run(n,null,null);case 14:return e.abrupt("break",24);case 15:return e.next=17,ce.run(n,i,null);case 17:return e.abrupt("break",24);case 18:return e.next=20,ce.run(n,i,o);case 20:return e.abrupt("break",24);case 21:return e.next=23,ce.run(n,i);case 23:return e.abrupt("break",24);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=ce.resultAsObservable.subscribe((function(e){e&&(r({type:"SET_LOADING",isLoading:!1}),s(e),e.file&&0!==e.file.size&&r({type:"ADD_FILES",items:[{file:e.file,output:!0}]}))}));return function(){e.unsubscribe()}}),[]),Object(n.jsxs)("div",{className:"App",children:[h&&Object(n.jsx)(ue,{close:function(){return m(!1)}}),Object(n.jsx)(J,{runCommand:b}),Object(n.jsx)(Q,{runCommand:b,result:{stdout:c.stdout,stderr:c.stderr}})]})},de=r(122),pe=r(69),he=r(28),me=r(82),be=r(83);"cto"===Object({NODE_ENV:"production",PUBLIC_URL:"/openssl-webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSSL_VERSION:"1.1.1k"}).REACT_APP_ENV&&(le=document.documentElement.lang);var ve={en:{translation:me},de:{translation:be}};pe.a.use(he.e).init({resources:ve,lng:le,fallbackLng:"en",interpolation:{escapeValue:!1}});pe.a,r(107);"cto"!==Object({NODE_ENV:"production",PUBLIC_URL:"/openssl-webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSSL_VERSION:"1.1.1k"}).REACT_APP_ENV&&(r(108),r(109)),c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(_,{children:"cto"!==Object({NODE_ENV:"production",PUBLIC_URL:"/openssl-webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENSSL_VERSION:"1.1.1k"}).REACT_APP_ENV?Object(n.jsx)(de.a,{className:"mt-3 mb-3",children:Object(n.jsx)(fe,{})}):Object(n.jsx)(fe,{})})}),document.getElementById("root"))},82:function(e){e.exports=JSON.parse('{"general":{"execute":"Execute"},"validation":{"noTextInput":"No text input","noFileSelected":"No file selected","noFileNameSpecified":"No filename specified","noPassphraseSpecified":"No passphrase specified","noValueSpecified":"No value specified"},"cardDescription":{"title":"Welcome!","text":"Modern crypto methods in a GUI using OpenSSL. You can execute the methods via the GUI controls or via the shown OpenSSL command line. The command line arguments are always in sync with the selected GUI controls."},"tabEncryption":{"name":"Symmetric encryption","mode":"Mode","encrypt":"Encrypt","decrypt":"Decrypt","input":"Input","file":"File","cipher":"Cipher","outputFile":"Output file","passphraseOrigin":"Passphrase origin","initializationVector":"Initialization vector","keyDerivationFunction":"Key derivation function","default":"Default","filenamePlaceholder":"Filename...","enterTextPlaceholder":"Enter text to encrypt/decrypt...","selectPlaceholder":"Select...","inputPlaceHolder":"Input...","hexValue":"Hex value..."},"tabGenrsa":{"name":"RSA key generation","outputFile":"Output file","keyLength":"Key length","filenamePlaceholder":"Filename...","download":"Download","information":"Information","generate":"Generate","privateKey":"Private key","publicKey":"Public key"},"tabDigest":{"name":"Hashes","hashFunction":"Hash function","inputFile":"Input file","selectPlaceholder":"Select...","filenamePlaceholder":"Filename...","enterTextPlaceholder":"Enter text to hash...","input":"Input","file":"File","outputFile":"Output file"},"tabFiles":{"name":"Files","files":"Files","download":"Download","delete":"Delete","selectFilesPlaceholder":"Select files..."},"commandLine":{"infoText":"Based on <bold>OpenSSL</bold> v{{ version }}","usage":"Usage: command [ options ] [ arguments ]","moreInfo":"More info:","availableCommands":"Available commands: \'help\'","versionInfo":"Build information: \'version -a\'"},"deleteModal":{"headline":"Delete file","text":"Do you really want to delete this file?","cancel":"Cancel","yes":"Yes"}}')},83:function(e){e.exports=JSON.parse('{"general":{"execute":"Ausf\xfchren"},"validation":{"noTextInput":"Keine Texteingabe","noFileSelected":"Keine Datei ausgew\xe4hlt","noFileNameSpecified":"Kein Dateiname angegeben","noPassphraseSpecified":"Keine Passphrase angegeben","noValueSpecified":"Kein Wert angegeben"},"cardDescription":{"title":"Willkommen!","text":"Moderne Krypto-Methoden als GUI basierend auf OpenSSL. Sie k\xf6nnen die Methoden \xfcber die GUI-Steuerelemente oder \xfcber die angezeigte OpenSSL-Kommandozeile ausf\xfchren. Die Kommandozeilenargumente entsprechen immer den ausgew\xe4hlten GUI-Steuerelementen."},"tabEncryption":{"name":"Symmetrische Verschl\xfcsselung","mode":"Modus","encrypt":"Verschl\xfcsseln","decrypt":"Entschl\xfcsseln","input":"Eingabe","file":"Datei","cipher":"Chiffre","outputFile":"Ausgabedatei","passphraseOrigin":"Herkunft der Passphrase","initializationVector":"Inititalisierungsvektor","keyDerivationFunction":"Schl\xfcsselableitungsfunktion","default":"Standard","filenamePlaceholder":"Dateiname...","enterTextPlaceholder":"Text zum Verschl\xfcsseln/Entschl\xfcsseln eingeben...","selectPlaceholder":"W\xe4hle...","inputPlaceHolder":"Eingabe...","hexValue":"Hex-Wert..."},"tabGenrsa":{"name":"RSA Schl\xfcsselgenerierung","outputFile":"Ausgabedatei","keyLength":"Schl\xfcssell\xe4nge","filenamePlaceholder":"Dateiname...","download":"Herunterladen","information":"Informationen","generate":"Erzeugen","privateKey":"Privater Schl\xfcssel","publicKey":"\xd6ffentlicher Schl\xfcssel"},"tabDigest":{"name":"Hashes","hashFunction":"Hash-Funktion","inputFile":"Eingabedatei","selectPlaceholder":"W\xe4hle...","filenamePlaceholder":"Dateiname...","enterTextPlaceholder":"Texteingabe zur Berechnung des Hash-Wertes...","input":"Eingabe","file":"Datei","outputFile":"Ausgabedatei"},"tabFiles":{"name":"Dateien","files":"Dateien","download":"Herunterladen","delete":"L\xf6schen","selectFilesPlaceholder":"W\xe4hle Dateien..."},"commandLine":{"infoText":"Basierend auf <bold>OpenSSL</bold> v{{ version }}","usage":"Verwendung: Kommando [ Optionen ] [ Argumente ]","moreInfo":"Mehr Infos:","availableCommands":"Verf\xfcgbare Kommandos: \'help\'","versionInfo":"Build-Informationen: \'version -a\'"},"deleteModal":{"headline":"Datei l\xf6schen","text":"Wollen Sie diese Datei wirklich l\xf6schen?","cancel":"Abbrechen","yes":"Ja"}}')},91:function(e,t,r){}},[[110,1,2]]]);
//# sourceMappingURL=main.5b2040e7.chunk.js.map